{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#_1","title":"\u6587\u7ae0\u76ee\u5f55","text":"<p>\u5728\u7ebf\u9605\u8bfb\uff1aGolang \u7f16\u7a0b\u65f6\u5149</p> <ul> <li>\u7b2c\u4e00\u7ae0\uff1a\u57fa\u7840\u77e5\u8bc6</li> <li>1.1 \u4e00\u6587\u641e\u5b9a\u5f00\u53d1\u73af\u5883\u7684\u642d\u5efa</li> <li>1.2 \u4e94\u79cd\u53d8\u91cf\u521b\u5efa\u7684\u65b9\u6cd5</li> <li>1.3 \u6570\u636e\u7c7b\u578b\uff1a\u6574\u578b\u4e0e\u6d6e\u70b9\u578b</li> <li>1.4 \u6570\u636e\u7c7b\u578b\uff1abyte\u3001rune\u4e0e\u5b57\u7b26\u4e32</li> <li>1.5 \u6570\u636e\u7c7b\u578b\uff1a\u6570\u7ec4\u4e0e\u5207\u7247</li> <li>1.6 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u5178\u4e0e\u5e03\u5c14\u7c7b\u578b</li> <li>1.7 \u6570\u636e\u7c7b\u578b\uff1a\u6307\u9488</li> <li>1.8 \u6d41\u7a0b\u63a7\u5236\uff1aif-else</li> <li>1.9 \u6d41\u7a0b\u63a7\u5236\uff1aswitch-case</li> <li>1.10 \u6d41\u7a0b\u63a7\u5236\uff1afor \u5faa\u73af</li> <li>1.11 \u6d41\u7a0b\u63a7\u5236\uff1agoto \u65e0\u6761\u4ef6\u8df3\u8f6c</li> <li>1.12 \u6d41\u7a0b\u63a7\u5236\uff1adefer \u5ef6\u8fdf\u8bed\u53e5</li> <li>1.13 \u6d41\u7a0b\u63a7\u5236\uff1a\u7406\u89e3 select \u7528\u6cd5</li> <li>1.14 \u5f02\u5e38\u673a\u5236\uff1apanic \u548c recover</li> <li>[1.15 \u8bed\u6cd5\u89c4\u5219\uff1a\u7406\u89e3\u8bed\u53e5\u5757\u4e0e\u4f5c\u7528\u57df](</li> </ul>"},{"location":"c01/c01_01/","title":"1.1 \u4e00\u6587\u641e\u5b9a\u5f00\u53d1\u73af\u5883\u7684\u642d\u5efa","text":""},{"location":"c01/c01_01/#1-go","title":"1. \u4e0b\u8f7d\u5b89\u88c5 Go\u8bed\u8a00","text":"<p>\u4e0b\u8f7d\u5730\u5740\uff1ahttps://golang.google.cn/dl/</p> <p></p> <p>\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u76f4\u63a5\u53cc\u51fb msi \u6587\u4ef6\u8fdb\u884c\u5b89\u88c5\uff0c\u6211\u4e60\u60ef\u5c06\u8f6f\u4ef6\u5b89\u88c5\u5728\u6211\u7684 E \u76d8\u4e0b\u7684 <code>Program Files</code> \u76ee\u5f55\u4e0b</p> <p></p> <p>\u540e\u9762\u5c31\u662f\u4e00\u8def\u70b9\u51fb <code>Next</code> \u5373\u53ef\uff0c\u76f4\u5230\u51fa\u73b0\u5982\u4e0b\u754c\u9762\uff0c\u5b89\u88c5\u5b8c\u6210\u3002</p> <p></p>"},{"location":"c01/c01_01/#2-goland","title":"2. \u914d\u7f6e Goland \u73af\u5883","text":"<p>\u5b66\u4e60\u7f16\u7a0b\u8bed\u8a00\uff0c\u4f7f\u7528\u4e00\u4e2a\u79f0\u5fc3\u7684 IDE\uff0c\u53ef\u4ee5\u5e2e\u4f60\u7701\u53bb\u5f88\u591a\u9ebb\u70e6\u3002</p> <p>\u5f00\u53d1 Python \u9879\u76ee\uff0c\u6211\u4e60\u60ef\u4f7f\u7528 PyCharm\uff0c\u56e0\u4e3a\u5df2\u7ecf\u4e60\u60ef\u4e86 JetBrains \u98ce\u683c\u7684IDE\uff0c\u53ef\u4ee5\u66ff\u6211\u7701\u53bb\u5f88\u591a\u719f\u6089\u65b0IDE\u7684\u6210\u672c\uff0c\u6240\u4ee5\u8fd9\u91cc\u6211\u7167\u6837\u4f7f\u7528 JetBrains \u4e13\u95e8\u4e3a Go\u8bed\u8a00\u5f00\u53d1\u7684IDE\uff1a<code>Goland</code>\u3002</p> <p>Goland \u6ca1\u6709\u50cf PyCharm \u90a3\u6837\u641e\u4e00\u4e2a\u514d\u8d39\u793e\u533a\u7248\uff0c\u5b83\u662f\u9700\u8981\u4ed8\u8d39\u7684\u3002</p> <p>\u7f51\u4e0a\u7684PJ\u6559\u7a0b\u51e0\u4e4e\u90fd\u4e0d\u80fd\u7528\u4e86\uff0c\u5e78\u597d\u6211\u8fd9\u91cc\u6709\u7eff\u8272\u514d\u5b89\u88c5\u7684\u7248\u672c\uff0c\u5bf9\uff0c\u5c31\u662f\u90a3\u79cd\u8fde\u5b89\u88c5\u90fd\u4e0d\u7528\u5b89\u88c5\uff0c\u4e0b\u8f7d\u89e3\u538b\u540e\u5c31\u80fd\u4f7f\u7528\u7684\u4e13\u4e1a\u7248\u672c\u3002</p> <p></p> <p>\u5f53\u4f60\u7684\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528 Goland \u540e\uff0c\u901a\u8fc7\u70b9\u51fb\u8bbe\u7f6e\u8fdb\u5165\u5982\u4e0b\u754c\u9762\uff0c\u521b\u5efa\u6211\u7684\u9879\u76ee\u76ee\u5f55\uff0c\u987a\u4fbf\u8bbe\u7f6e\u597d GOROOT \u3002</p> <p></p> <p>\u521b\u5efa\u597dProject\u540e\uff0c\u518d\u70b9\u51fb Files-&gt;Settings-&gt;GOPATH\uff0c\u6dfb\u52a0\u6211\u4eec\u7684\u9879\u76ee\u76ee\u5f55<code>F:\\Go-Player</code></p> <p></p> <p>\u968f\u4fbf\u70b9\u51fb\u4e00\u4e2ago\u6587\u4ef6\uff0c\u5c31\u80fd\u5728\u4e0b\u56fe\u7bad\u5934\u5904\u770b\u5230\u914d\u7f6e\u5165\u53e3\uff0c\u70b9\u51fb\u8fdb\u5165\u914d\u7f6e\u4e00\u4e0b Go\u8fd0\u884c\u5668\u3002</p> <p></p> <p>\u6309\u7167\u5982\u4e0b\u6307\u793a\u8fdb\u884c\u914d\u7f6e\u3002</p> <p></p> <p>\u53bb\u6389\u53c2\u6570\u63d0\u793a</p> <p></p> <p>\u8bbe\u7f6e goproxy</p> <p></p> <p>\u53ef\u5148\u7684\u4ee3\u7406\u6709\u5982\u4e0b\uff08\u6ce8\u610f\u540e\u9762\u7684 direct \u4e0d\u8981\u5220\u9664\uff09</p> <ul> <li><code>https://goproxy.io</code></li> <li><code>https://goproxy.cn</code></li> <li><code>https://mirrors.aliyun.com/goproxy/</code></li> </ul> <p>\u8bbe\u7f6e goimports\uff08\u81ea\u52a8\u683c\u5f0f\u5316\u63d2\u4ef6\uff09\uff0c\u5982\u679c \u4f60\u4e4b\u524d \u6ca1\u6709\u5b89\u88c5 \uff0c\u4f1a\u63d0\u793a\u4f60\u70b9\u51fb <code>yes</code> \u4e0b\u8f7d\u5b89\u88c5 \u3002</p> <p></p> <p>\u81f3\u6b64\uff0c\u73af\u5883\u914d\u7f6e\u5b8c\u6210\u3002</p> <p>\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\uff0c\u521b\u5efa\u5982\u4e0b\u4e09\u4e2a\u6587\u4ef6\u5939\uff0c\u5e76\u5728 src \u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2ahello.go \u7684\u6587\u4ef6\u3002</p> <p></p> <p>\u70b9\u51fb\u8fd0\u884c\u6309\u94ae\uff0c\u5728\u63a7\u5236\u53f0\u6211\u4eec\u770b\u5230\u4e86\u719f\u6089\u7684 <code>Hello, World!</code></p> <p></p>"},{"location":"c01/c01_01/#3-vs-code","title":"3. \u914d\u7f6e VS Code \u73af\u5883","text":""},{"location":"c01/c01_01/#vs-code","title":"\u4e0b\u8f7d VS Code","text":"<p>\u8981\u4f7f\u7528 VS Code\uff0c\u54b1\u9996\u5148\u7b2c\u4e00\u6b65\u5f97\u5b89\u88c5\u5b83\u3002</p> <p>\u5b98\u7f51\u4e0b\u8f7d\u5730\u5740\u662f\uff1ahttps://code.visualstudio.com/Download</p> <p>\u4f46\u662f\u5728\u8fd9\u91cc\u83b7\u53d6\u7684\u4e0b\u8f7d\u94fe\u63a5\u975e\u5e38\u7684\u5feb\uff0c\u6ca1\u6709\u4f7f\u7528\u4ee3\u7406\u7684\u540c\u5b66\uff0c\u51e0\u5341M\u7684\u8f6f\u4ef6\u53ef\u80fd\u5f97\u4e0b\u8f7d\u4e00\u5929\u3002</p> <p>\u90a3\u4e48\u6709\u4ec0\u4e48\u529e\u6cd5\u5462\uff1f</p> <p>\u8fd9\u91cc\u6559\u5927\u5bb6\u4e00\u4e2a\u65b9\u6cd5\uff1a</p> <p>\u5728\u5b98\u7f51\u83b7\u53d6\u7684\u4e0b\u8f7d\u94fe\u63a5\u662f\u8fd9\u6837\u5b50\uff1a</p> <pre><code>https://az764295.vo.msecnd.net/stable/c185983a683d14c396952dd432459097bc7f757f/VSCodeUserSetup-x64-1.55.0.exe\n</code></pre> <p>\u6211\u4eec\u770b\u5230\u524d\u9762\u7684\u57df\u540d\u662f<code>az764295.vo.msecnd.net</code> \uff0c\u4f60\u53ea\u8981\u5c06\u8fd9\u4e2a\u57df\u540d <code>vscode.cdn.azure.cn</code> \u5c31\u53ef\u4ee5\u3002</p> <p>\u66f4\u6362\u540e\u7684\u4e0b\u8f7d\u94fe\u63a5\u662f\u8fd9\u6837\u5b50\uff1a</p> <pre><code>https://vscode.cdn.azure.cn/stable/c185983a683d14c396952dd432459097bc7f757f/VSCodeUserSetup-x64-1.55.0.exe\n</code></pre> <p>\u518d\u628a\u8fd9\u4e2a\u94fe\u63a5\u8d34\u5230\u4f60\u7684\u4e0b\u8f7d\u5de5\u5177\uff08\u6211\u4f7f\u7528\u7684\u662f FDM\uff09\uff0c\u4e0b\u8f7d\u901f\u5ea6\u5c31\u98de\u5feb\u4e86\u3002</p>"},{"location":"c01/c01_01/#goroot","title":"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1aGOROOT","text":"<p>\u5728\u4e0b\u8f7d\u5e76\u5b89\u88c5\u597d Go \u540e\uff0c\u9700\u8981\u5bf9\u73af\u5883\u53d8\u91cf\u8fdb\u884c\u4e00\u4e9b\u914d\u7f6e\uff0c\u5176\u4e2d\u6700\u91cd\u8981\u7684\u5c31\u662f GOROOT\u3002</p> <p>\u5728GO\u8bed\u8a00\u4e2d\u8868\u793a\u7684\u662f Go\u8bed\u8a00\u7f16\u8bd1\u3001\u5de5\u5177\u3001\u6807\u51c6\u5e93\u7b49\u7684\u5b89\u88c5\u8def\u5f84\uff0c\u901a\u8fc7\u5b83\u53ef\u4ee5\u544a\u8bc9\u7cfb\u7edf\u4f60\u7684 <code>go.exe</code> \u662f\u653e\u5728\u54ea\u91cc\uff0c\u4e0d\u8bbe\u7f6e\u7684\u8bdd\uff0c\u4f60\u540e\u9762\u6267\u884c <code>go get</code> \u3001<code>go install</code> \u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u5c31\u4e0d\u8ba4\u8bc6\u5b83\u4e86\u3002</p> <p>\u53f3\u952e <code>\u6211\u7684\u7535\u8111</code> \uff0c\u70b9\u51fb\u5c5e\u6027</p> <p></p> <p>\u518d\u70b9\u51fb <code>\u9ad8\u7ea7\u7cfb\u7edf\u8bbe\u7f6e</code></p> <p></p> <p>\u5728\u5f39\u51fa\u6765\u7684\u7a97\u53e3\u70b9\u51fb <code>\u73af\u5883\u53d8\u91cf</code></p> <p></p> <p>\u70b9\u51fb\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u70b9\u7684 PATH\uff0c\u518d\u70b9\u51fb\u7f16\u8f91</p> <p></p> <p>\u5728\u5f39\u51fa\u6765\u7684\u7a97\u53e3\u4e2d\uff0c\u65b0\u589e\u4e00\u6761 item\uff0c\u5185\u5bb9\u5982\u4e0b\uff0c\u8fd9\u4e2a\u76ee\u5f55\u662f go.exe \u6240\u5728\u7684\u76ee\u5f55</p> <p></p> <p>\u8bbe\u7f6e\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u5728 cmd \u7a97\u53e3\u4e2d\uff0c\u8fd0\u884c <code>go version</code>\uff0c\u5982\u679c\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u8bf4\u660e\uff0c\u73af\u5883\u53d8\u91cf\u6b63\u786e\u914d\u7f6e\u4e14\u5df2\u7ecf\u751f\u6548\u3002</p> <p>\u5982\u679c\u6267\u884c\u5931\u8d25\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u91cd\u542f\u7535\u8111\u624d\u80fd\u751f\u6548\u4e86\u5662\uff08\u53cd\u6b63\u6211\u662f\u8fd9\u6837\uff09</p>"},{"location":"c01/c01_01/#gopath","title":"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1aGOPATH","text":"<p>\u8bbe\u7f6e\u5b8c GOROOT\uff0c\u8fd8\u8981\u8bbe\u7f6e GOPATH\uff0c\u5b83\u4f1a\u544a\u8bc9 Go \u4f60\u7684\u9879\u76ee\u662f\u5728\u54ea\u4e2a\u76ee\u5f55\uff1f</p> <p>\u8fd9\u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u4f60\u53ef\u4ee5\u50cf GOROOT \u4e00\u6837\u901a\u8fc7\u7535\u8111\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u6765\u8bbe\u7f6e\uff0c\u5728\u90a3\u91cc\u8bbe\u7f6e\u4e00\u4e2a\u9ed8\u8ba4\u7684\u5de5\u4f5c\u76ee\u5f55\uff08\u8fd9\u4e2a\u76ee\u5f55\u4f60\u53ef\u4ee5\u81ea\u5df1\u5b9a\uff09\u3002</p> <p></p> <p>\u4e0d\u8fc7\u8fd9\u79cd\u65b9\u6cd5\u6781\u4e0d\u63a8\u8350\uff0c\u56e0\u4e3a\u4f60\u4e0d\u53ef\u80fd\u53ea\u6709\u4e00\u4e2a\u9879\u76ee\uff0c\u6211\u4eec\u6bcf\u4e2a\u9879\u76ee\u90fd\u6709\u81ea\u5df1\u7684 GOPATH\u3002\u4e60\u60ef\u7684\u505a\u6cd5\u662f\u53ef\u4ee5\u4f7f\u7528 <code>go env</code> \u547d\u4ee4\u6765\u8bbe\u7f6e</p> <pre><code>$ go env -w GOPATH=E:\\VMP-Code\\Golang\n</code></pre> <p>\u5982\u679c\u4f60\u5df2\u7ecf\u5728\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u8bbe\u7f6e\u4e86 GOPATH \uff0c\u90a3\u4e48\u4e00\u5b9a\u79fb\u9664\u6389\uff0c\u624d\u80fd\u4f7f\u7528 <code>go env -w</code> \u53bb\u8bbe\u7f6e\uff0c\u5426\u5219\u4f1a\u62a5\u5982\u4e0b\u7684\u8b66\u544a</p> <pre><code>warning: go env -w GOPATH=... does not override conflicting OS environment variable\n</code></pre> <p>\u5982\u679c\u4f60\u79fb\u9664\u4e86\u8fd8\u62a5\u8fd9\u4e2a\u9519\u8bef\uff0c\u90a3\u53ef\u80fd\u9700\u8981\u4f60\u91cd\u542f\u7535\u8111\uff08\u53cd\u6b63\u6211\u662f\u8fd9\u6837\uff09</p>"},{"location":"c01/c01_01/#go","title":"\u5b89\u88c5 Go \u6269\u5c55","text":""},{"location":"c01/c01_01/#go-extension","title":"Go Extension","text":"<p>Go \u8bed\u8a00\u7684\u6269\u5c55\u63d2\u4ef6\uff0c\u63d0\u4f9b\u4e86\u4ee3\u7801\u8fd0\u884c\u3001\u5bfc\u822a\u3001\u8c03\u8bd5\u7b49\u6700\u57fa\u672c\u7684\u529f\u80fd\u3002</p> <p>\u8fd9\u662f\u662f\u4e00\u5e74\u591a\u524d\uff082020\u5e74\u521d\uff09\u7684\u622a\u56fe\uff0c\u5f53\u65f6\u7684\u5f00\u53d1\u8005\u8fd8\u662f Microsoft</p> <p></p> <p>\u73b0\u5728\uff082021\u5e74\u521d\uff09\u518d\u53bb\u641c\u7d22\u4e00\u770b\uff0c\u53d1\u73b0\u5f00\u53d1\u8005\u5df2\u7ecf\u53d8\u6210\u4e86 Google \u7684 Go \u5f00\u53d1\u56e2\u961f\u4e86\u3002</p> <p></p>"},{"location":"c01/c01_01/#code-runner","title":"Code Runner","text":"<p>\u7f16\u5199\u5b8c\u4ee3\u7801\u540e\uff0c\u60f3\u8fd0\u884c\u8fd9\u4e2a go \u6587\u4ef6\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u4f60\u5f97\u901a\u8fc7\u4e0b\u9762 VSCODE \u63d0\u4f9b\u7684\u5165\u53e3\u53bb\u8fd0\u884c\uff0c\u662f\u6bd4\u8f83\u9ebb\u70e6\u7684\u3002</p> <p></p> <p>\u70b9\u51fb <code>create a launch.json file</code> \u5c31\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a json \u6587\u4ef6\uff0c\u521b\u5efa\u5b8c\u6210\u540e\uff0c\u8fd0\u884c\u7684\u8fb9\u680f\u5c31\u53d8\u6210\u5982\u4e0b\u6a21\u6837\uff0c\u518d\u70b9\u51fb \u90a3\u4e2a\u4e09\u89d2\u8fd0\u884c\u6309\u94ae\uff0c\u5c31\u53ef\u4ee5\u8fd0\u884c\u5b83\u4e86\u3002</p> <p></p> <p>\u4f7f\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0c\u9700\u8981\u5b89\u88c5\u4e00\u4e2a <code>dlv</code>\uff0cVS Code \u4f1a\u63d0\u793a\u4f60\u5b89\u88c5\u5b83\uff0c\u5b89\u88c5\u5b8c\u6210\u540e\u4f60\u4f1a\u5728 bin \u76ee\u5f55\u4e0b\u53d1\u73b0 <code>dlv.exe</code>\u3002</p> <p></p> <p>\u8fd9\u79cd\u8fd0\u884c\u65b9\u6cd5\uff0c\u867d\u7136\u53ef\u884c\uff0c\u4f46\u662f\u64cd\u4f5c\u8def\u5f84\u8fd8\u662f\u6709\u70b9\u957f\u3002</p> <p>\u6700\u7b26\u5408\u7528\u6237\u4f7f\u7528\u4e60\u60ef\u7684\u5e94\u8be5\u662f\uff0c\u76f4\u63a5\u6709\u4e00\u4e2a <code>\u8fd0\u884c</code> \u7684\u6309\u94ae\u7684\uff0c\u4f8b\u5982\u8fd9\u6837</p> <p></p> <p>\u6216\u8005\u901a\u5e38\u5feb\u6377\u952e\uff0c\u6216\u8005\u53f3\u952e\u5c31\u6709\u8fd0\u884c\u7684\u9009\u62e9\u9879\u3002</p> <p></p> <p>VS Code \u672c\u8eab\u4e0d\u63d0\u4f9b\u8fd9\u6837\u7684\u529f\u80fd\uff0c\u4f60\u9700\u8981\u5b89\u88c5\u4e00\u4e2a\u53eb <code>Code Runner</code> \u7684\u6269\u5c55\uff0c\u5b89\u88c5\u540e\u4e0d\u9700\u8981\u91cd\u542f VS Code \u5c31\u4f1a\u5931\u6548\u3002</p> <p></p>"},{"location":"c01/c01_01/#hello-world","title":"\u8fd0\u884c Hello World","text":"<p>\u4ee5\u4e0a\u90fd\u914d\u7f6e\u597d\u4e86\uff0c\u5c31\u53ef\u4ee5\u5728 VS Code \u4e0a\u7f16\u5199\u5e76\u6267\u884c\u4ee3\u7801\uff0c\u4ee3\u7801\u5982\u4e0b</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\n\nfunc main()  {\n    fmt.Println(\"Hello, Golang\")\n}\n</code></pre> <p>\u4f7f\u7528 Ctrl + Alt + N \uff0c\u6216\u8005\u53f3\u952e\u9009\u62e9 <code>Run Code</code> \u5c31\u53ef\u4ee5\u6267\u884c\u8be5 go \u6587\u4ef6\u3002</p> <p></p>"},{"location":"c01/c01_01/#goproxy","title":"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff1aGOPROXY","text":"<p>\u7531\u4e8e\u56fd\u5185\u7684\u4e00\u4e9b\u7f51\u7edc\u95ee\u9898\uff0c\u5bfc\u81f4\u6211\u4eec\u65e0\u6cd5\u76f4\u63a5\u62c9\u53d6 go \u7684\u4e00\u4e9b\u5de5\u5177\u5305\uff0c\u8fd9\u65f6\u5019\u5c31\u8981\u501f\u52a9\u5927\u795e\u4eec\u642d\u5efa\u7684\u4ee3\u7406\u5730\u5740\u6765\u4e0b\u8f7d\u4e86\u3002</p> <p>\u6700\u7ecf\u5e38\u4f7f\u7528\u7684\u662f\u4ee3\u7406\u5730\u5740\u662f\uff1a<code>https://goproxy.cn</code></p> <pre><code>go env -w GOPROXY=https://goproxy.cn,direct\n</code></pre>"},{"location":"c01/c01_01/#_1","title":"\u9879\u76ee\u76ee\u5f55\u89e3\u6790","text":"<p>\u8fd9\u91cc\u8981\u8bf4\u4e00\u70b9\uff0cGO \u9879\u76ee\u4e2d\uff0c\u4e00\u822c\u6765\u8bf4\u5b83\u7684\u5de5\u4f5c\u76ee\u5f55\u7ed3\u6784\u662f\u8fd9\u6837\u7684\uff1a</p> <ul> <li> <p>bin\u76ee\u5f55\uff1a\u5305\u542b\u4e86\u53ef\u6267\u884c\u7a0b\u5e8f\uff0c\u6ce8\u610f\u662f\u53ef\u6267\u884c\u7684\uff0c\u4e0d\u9700\u8981\u89e3\u91ca\u6267\u884c\u3002</p> </li> <li> <p>pkg\u76ee\u5f55\uff1a\u5305\u542b\u4e86\u4f7f\u7528\u7684\u5305\u6216\u8005\u8bf4\u5e93\u3002</p> </li> <li> <p>src\u76ee\u5f55\uff1a\u91cc\u9762\u5305\u542b\u4e86go\u7684\u4ee3\u7801\u6e90\u6587\u4ef6\uff0c\u5176\u4e2d\u4ecd\u6309\u5305\u7684\u4e0d\u540c\u8fdb\u884c\u7ec4\u7ec7\u3002</p> </li> </ul> <p>\u6240\u4ee5\u540e\u9762\u6211\u7684\u521b\u5efa\u7684GO\u5de5\u4f5c\u76ee\u5f55\uff0c\u4e5f\u662f\u6309\u7167\u8fd9\u4e2a\u6807\u51c6\u6765\uff0c\u5148\u8bf4\u660e\u4e00\u4e0b\u3002</p>"},{"location":"c01/c01_01/#4-go","title":"4. \u4e0b\u8f7d Go \u5de5\u5177\u63d2\u4ef6","text":"<p>\u521b\u5efa\u76ee\u5f55 <code>src/goland.org/x/</code>\uff0c\u5e76\u8fdb\u5165\u6b64\u76ee\u5f55\uff0c\u6267\u884c\u547d\u4ee4</p> <pre><code>$ git clone https://github.com/golang/tools.git\n$ git clone https://github.com/golang/lint.git\n</code></pre> <p>\u968f\u4fbf\u70b9\u5f00\u4e00\u4e2a go \u6587\u4ef6\uff0c\u5728\u4f60\u7684\u53f3\u4e0b\u89d2\u4f1a\u63d0\u793a\u8981\u4f60\u5b89\u88c5\u4e00\u4e9b\u5de5\u5177\uff0c\u5b89\u88c5\u7684\u5305\u6709\u4e9b\u7531\u4e8e\u5899\u7684\u539f\u56e0\uff0c\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u4e0b\u8f7d\u987a\u5229\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e0b\u4ee3\u7406\u3002</p> <pre><code>$ go env -w GOPROXY=https://goproxy.cn,direct\n</code></pre> <p>\u7136\u540e\u518d\u70b9\u51fb <code>Install All</code> </p> <p></p> <p>\u7136\u540e\u4f60\u5728 OUTPUT \u5c31\u80fd\u770b\u5230\u5b89\u88c5\u8fdb\u5ea6</p> <p></p> <p>\u5b89\u88c5\u7684 exe \u6587\u4ef6\u4f1a\u653e\u5728 %GOPATH%/bin \u4e0b\uff0c\u4e5f\u5c31\u662f <code>F:\\Go-Player\\bin</code></p> <p></p> <p>\u800c\u6b64\u7684 src \u76ee\u5f55\u7ed3\u6784\u662f\u8fd9\u6837\u7684</p> <p></p> <p>\u5230\u8fd9\u65f6\u73af\u5883\u914d\u7f6e\u5b8c\u6210\uff0c\u7f16\u5199 HelloWorld\uff0c\u5e76\u8fd0\u884c\u67e5\u770b\u8f93\u51fa\uff0c\u4e00\u5207\u5b8c\u6210\u3002</p> <p></p> <ul> <li>gopkgs\uff1a</li> </ul>"},{"location":"c01/c01_01/#4","title":"4. \u914d\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u5f53\u4f60\u5728\u7ec8\u7aef\u4f7f\u7528 <code>go env</code> \u7684\u65f6\u5019\uff0c\u4f1a\u6253\u5370\u51fago \u76f8\u5173\u7684\u6240\u6709\u73af\u5883\u53d8\u91cf</p> <pre><code>$ go env\nset GO111MODULE=\nset GOARCH=amd64\nset GOBIN=\nset GOCACHE=C:\\Users\\wangbm\\AppData\\Local\\go-build\nset GOENV=C:\\Users\\wangbm\\AppData\\Roaming\\go\\env\nset GOEXE=.exe\nset GOFLAGS=\nset GOHOSTARCH=amd64\nset GOHOSTOS=windows\nset GONOPROXY=\nset GONOSUMDB=\nset GOOS=windows\nset GOPATH=E:\\MING-Code\\GoPlayer\nset GOPRIVATE=\nset GOPROXY=https://goproxy.cn,direct\nset GOROOT=D:\\Program Files (x86)\\Go-1.13.6\nset GOSUMDB=sum.golang.org\nset GOTMPDIR=\nset GOTOOLDIR=D:\\Program Files (x86)\\Go-1.13.6\\pkg\\tool\\windows_amd64\nset GCCGO=gccgo\nset AR=ar\nset CC=gcc\nset CXX=g++\nset CGO_ENABLED=1\nset GOMOD=\nset CGO_CFLAGS=-g -O2\nset CGO_CPPFLAGS=\nset CGO_CXXFLAGS=-g -O2\nset CGO_FFLAGS=-g -O2\nset CGO_LDFLAGS=-g -O2\nset PKG_CONFIG=pkg-config\n</code></pre> <p>\u60f3\u67e5\u770b\u51e0\u4e2a\u7279\u5b9a\u7684\u73af\u5883\u53d8\u91cf\u5c31\u52a0\u5728 <code>go env</code> \u540e\u9762</p> <pre><code>$ go env GOPATH\nE:\\MING-Code\\GoPlayer\n$ go env GOROOT\nD:\\Program Files (x86)\\Go-1.13.6\n$ go env GOPROXY\nhttps://goproxy.cn,direct\n</code></pre> <p>\u4ee5\u4e0a\u73af\u5883\u53d8\u91cf\u5f88\u591a\uff0c\u8fd9\u91cc\u4ec5\u8bbe\u7f6e\u4e0b\u9762\u8fd9\u4e24\u4e2a\u5c31\u8db3\u591f\u4e86</p> <ul> <li>\u4e00\u4e2a\u662fGO111MODULE \u8bbe\u7f6e\u4e3a on\uff0c\u8868\u793a\u4f7f\u7528 go modules \u6a21\u5f0f</li> </ul> <pre><code>$ go env -w GO111MODULE=on\n</code></pre> <ul> <li>\u4e00\u4e2a\u662f\u5f00\u542f\u4ee3\u7406\uff0c\u9632\u6b62\u4e0b\u8f7d\u5305\u5931\u8d25\uff08\u524d\u9762\u53ef\u80fd\u4f60\u5df2\u7ecf\u8bbe\u7f6e\u8fc7\uff09</li> </ul> <pre><code>$ go env -w GOPROXY=https://goproxy.cn,direct\n</code></pre>"},{"location":"c01/c01_02/","title":"1.2 \u4e94\u79cd\u53d8\u91cf\u521b\u5efa\u7684\u65b9\u6cd5","text":"<p>\u5bf9\u4e8e\u53ea\u6709 Python \u8bed\u8a00\u7ecf\u9a8c\u7684\u670b\u53cb\uff0c\u4e5f\u8bb8\u4f1a\u4e0d\u592a\u7406\u89e3\u58f0\u660e\u8fd9\u4e2a\u8bcd\uff0c\u5728 Python \u4e2d\u76f4\u63a5\u62ff\u6765\u5c31\u7528\uff0c\u4e5f\u4e0d\u7528\u58f0\u660e\u7c7b\u578b\u5565\u7684\u3002</p> <p>Go \u8bed\u8a00\u662f\u9759\u6001\u7c7b\u578b\u8bed\u8a00\uff0c\u7531\u4e8e\u7f16\u8bd1\u65f6\uff0c\u7f16\u8bd1\u5668\u4f1a\u68c0\u67e5\u53d8\u91cf\u7684\u7c7b\u578b\uff0c\u6240\u4ee5\u8981\u6c42\u6240\u6709\u7684\u53d8\u91cf\u90fd\u8981\u6709\u660e\u786e\u7684\u7c7b\u578b\u3002</p> <p>\u53d8\u91cf\u5728\u4f7f\u7528\u524d\uff0c\u9700\u8981\u5148\u58f0\u660e\u3002\u58f0\u660e\u7c7b\u578b\uff0c\u5c31\u7ea6\u5b9a\u4e86\u4f60\u8fd9\u4e2a\u53d8\u91cf\u53ea\u80fd\u8d4b\u8be5\u7c7b\u578b\u7684\u503c\u3002</p> <p>\u58f0\u660e\u4e00\u822c\u6709\u4ee5\u4e0b\u56db\u79cd\u65b9\u6cd5\uff0c\u5176\u4e2d\u524d\u9762\u4e24\u79cd\u540c\u6837\u4e5f\u53ef\u7528\u4e8e\u5b9a\u4e49\u5e38\u91cf\uff0c\u53ea\u9700\u628a\u5173\u952e\u5b57 <code>var</code> \u53d8\u6210 <code>const</code> \u5373\u53ef\u3002</p> <p>\u7b2c\u4e00\u79cd \uff1a\u4e00\u884c\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf</p> <pre><code>var &lt;name&gt; &lt;type&gt;\n</code></pre> <p>\u5176\u4e2d var \u662f\u5173\u952e\u5b57\uff08\u56fa\u5b9a\u4e0d\u53d8\uff09\uff0cname \u662f\u53d8\u91cf\u540d\uff0ctype \u662f\u7c7b\u578b\u3002</p> <p>\u4f7f\u7528 var \uff0c\u867d\u7136\u53ea\u6307\u5b9a\u4e86\u7c7b\u578b\uff0c\u4f46\u662f Go \u4f1a\u5bf9\u5176\u8fdb\u884c\u9690\u5f0f\u521d\u59cb\u5316\uff0c\u6bd4\u5982 string \u7c7b\u578b\u5c31\u521d\u59cb\u5316\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0cint \u7c7b\u578b\u5c31\u521d\u59cb\u5316\u4e3a0\uff0cfloat \u5c31\u521d\u59cb\u5316\u4e3a 0.0\uff0cbool\u7c7b\u578b\u5c31\u521d\u59cb\u5316\u4e3afalse\uff0c\u6307\u9488\u7c7b\u578b\u5c31\u521d\u59cb\u5316\u4e3a nil\u3002</p> <p>\u82e5\u60f3\u5728\u58f0\u660e\u8fc7\u7a0b\uff0c\u987a\u4fbf\u4e5f\u521d\u59cb\u5316\uff0c\u53ef\u4ee5\u8fd9\u6837\u5199</p> <pre><code>var name string = \"Go\u7f16\u7a0b\u65f6\u5149\"\n</code></pre> <p>\u5728 Go \u6587\u4ef6\u4e2d\u7684\u5b8c\u6574\u4ee3\u7801\u5982\u4e0b\uff0c\u4e3a\u4e86\u4e0d\u5199\u91cd\u590d\u6027\u7684\u4ee3\u7801\uff0c\u540e\u7eed\u4e0d\u518d\u8cbc\u5b8c\u6574\u4ee3\u7801\uff0c\u53ea\u8cbc\u5173\u952e\u4ee3\u7801</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main()  {\n    var name string = \"Go\u7f16\u7a0b\u65f6\u5149\"\n    fmt.Println(name)\n}\n</code></pre> <p>\u4ece\u53f3\u503c\uff08\u7b49\u53f7\u53f3\u8fb9\u7684\u503c\uff0crvalue\uff09\u6765\u770b\uff0c\u660e\u663e\u662f\u4e2a string \u7c7b\u578b\uff08\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u5728 Python \u53cc\u5f15\u53f7\u4e0e\u5355\u5f15\u53f7\u7b49\u4ef7\uff0c\u4f46\u5728 Go \u4e2d\u53cc\u5f15\u53f7\u548c\u5355\u5f15\u53f7\u662f\u4e0d\u4e00\u6837\u7684\uff0c\u8fd9\u91cc\u8981\u4e00\u5b9a\u8981\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u8868\u793a\u5b57\u7b26\u4e32\uff0c\u800c\u5728\u5355\u5f15\u53f7\u8868\u793arune \u7c7b\u578b\u7684\u5b57\u7b26\uff0c\u8fd9\u4e2a\u540e\u7eed\u4f1a\u5355\u72ec\u4ecb\u7ecd\uff09\uff0c\u56e0\u6b64\u4e5f\u53ef\u4ee5\u5c06\u5176\u7b80\u5316\u4e3a</p> <pre><code>var name = \"Go\u7f16\u7a0b\u65f6\u5149\"\n</code></pre> <p>\u82e5\u4f60\u7684\u53f3\u503c\u5e26\u6709\u5c0f\u6570\u70b9\uff0c\u5728\u4e0d\u6307\u5b9a\u7c7b\u578b\u7684\u60c5\u51b5\u4e0b\uff0c\u7f16\u8bd1\u5668\u4f1a\u5c06\u4f60\u7684\u8fd9\u4e2a\u53d8\u91cf\u58f0\u660e\u4e3a float64\uff0c\u4f46\u662f\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e76\u4e0d\u9700\u8981\u8fd9\u4e48\u9ad8\u7684\u7cbe\u5ea6\uff08\u5360\u7528\u7684\u5185\u5b58\u7a7a\u95f4\u66f4\u5927\uff09</p> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u63a8\u8350\u6307\u5b9a\u7c7b\u578b\uff0c\u4e0d\u8981\u5077\u61d2</p> <pre><code>var rate float32 = 0.89\n</code></pre> <p>\u7b2c\u4e8c\u79cd\uff1a\u591a\u4e2a\u53d8\u91cf\u4e00\u8d77\u58f0\u660e</p> <p>\u58f0\u660e\u591a\u4e2a\u53d8\u91cf\uff0c\u9664\u4e86\u53ef\u4ee5\u6309\u7167\u4e0a\u9762\u5199\u6210\u591a\u884c\u4e4b\u5916\uff0c\u8fd8\u53ef\u4ee5\u5199\u6210\u4e0b\u9762\u8fd9\u6837</p> <pre><code>var (\n    name string\n    age int\n    gender string\n)\n</code></pre> <p>\u7b2c\u4e09\u79cd\uff1a\u58f0\u660e\u548c\u521d\u59cb\u5316\u4e00\u4e2a\u53d8\u91cf</p> <p>\u4f7f\u7528 <code>:=</code> \uff08\u63a8\u5bfc\u58f0\u660e\u5199\u6cd5\u6216\u8005\u77ed\u7c7b\u578b\u58f0\u660e\u6cd5\uff1a\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u6839\u636e\u53f3\u503c\u7c7b\u578b\u63a8\u65ad\u51fa\u5de6\u503c\u7684\u5bf9\u5e94\u7c7b\u578b\u3002\uff09\uff0c\u53ef\u4ee5\u58f0\u660e\u4e00\u4e2a\u53d8\u91cf\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\uff08\u663e\u5f0f\uff09\u521d\u59cb\u5316\u3002</p> <pre><code>name := \"Go\u7f16\u7a0b\u65f6\u5149\"\n\n// \u7b49\u4ef7\u4e8e\n\nvar name string = \"Go\u7f16\u7a0b\u65f6\u5149\"\n\n// \u7b49\u4ef7\u4e8e\n\nvar name = \"Go\u7f16\u7a0b\u65f6\u5149\"\n</code></pre> <p>\u4f46\u8fd9\u79cd\u65b9\u6cd5\u6709\u4e2a\u9650\u5236\u5c31\u662f\uff0c\u53ea\u80fd\u7528\u4e8e\u51fd\u6570\u5185\u90e8</p> <p>\u7b2c\u56db\u79cd\uff1a\u58f0\u660e\u548c\u521d\u59cb\u5316\u591a\u4e2a\u53d8\u91cf</p> <pre><code>name, age := \"wangbm\", 28\n</code></pre> <p>\u8fd9\u79cd\u65b9\u6cd5\uff0c\u4e5f\u7ecf\u5e38\u7528\u4e8e\u53d8\u91cf\u7684\u4ea4\u6362</p> <pre><code>var a int = 100\nvar b int = 200\nb, a = a, b\n</code></pre> <p>\u7b2c\u4e94\u79cd\uff1anew \u51fd\u6570\u58f0\u660e\u4e00\u4e2a\u6307\u9488\u53d8\u91cf</p> <p>\u5728\u8fd9\u91cc\u8981\u5148\u8bb2\u4e00\u4e0b\uff0c\u6307\u9488\u7684\u76f8\u5173\u5185\u5bb9\u3002</p> <p>\u53d8\u91cf\u5206\u4e3a\u4e24\u79cd <code>\u666e\u901a\u53d8\u91cf</code> \u548c <code>\u6307\u9488\u53d8\u91cf</code></p> <p>\u666e\u901a\u53d8\u91cf\uff0c\u5b58\u653e\u7684\u662f\u6570\u636e\u672c\u8eab\uff0c\u800c\u6307\u9488\u53d8\u91cf\u5b58\u653e\u7684\u662f\u6570\u636e\u7684\u5730\u5740\u3002</p> <p>\u5982\u4e0b\u4ee3\u7801\uff0cage \u662f\u4e00\u4e2a\u666e\u901a\u53d8\u91cf\uff0c\u5b58\u653e\u7684\u5185\u5bb9\u662f 28\uff0c\u800c ptr \u662f \u5b58\u653e\u53d8\u91cfage\u503c\u7684\u5185\u5b58\u5730\u5740\uff1a0xc000010098</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main()  {\n    var age int = 28\n    var ptr = &amp;age  // &amp;\u540e\u9762\u63a5\u53d8\u91cf\u540d\uff0c\u8868\u793a\u53d6\u51fa\u8be5\u53d8\u91cf\u7684\u5185\u5b58\u5730\u5740\n    fmt.Println(\"age: \", age)\n    fmt.Println(\"ptr: \", ptr)\n}\n</code></pre> <p>\u8f93\u51fa</p> <pre><code>age:  28\nptr:  0xc000010098\n</code></pre> <p>\u800c\u8fd9\u91cc\u8981\u8bf4\u7684 new \u51fd\u6570\uff0c\u662f Go \u91cc\u7684\u4e00\u4e2a\u5185\u5efa\u51fd\u6570\u3002</p> <p>\u4f7f\u7528\u8868\u8fbe\u5f0f new(Type) \u5c06\u521b\u5efa\u4e00\u4e2aType\u7c7b\u578b\u7684\u533f\u540d\u53d8\u91cf\uff0c\u521d\u59cb\u5316\u4e3aType\u7c7b\u578b\u7684\u96f6\u503c\uff0c\u7136\u540e\u8fd4\u56de\u53d8\u91cf\u5730\u5740\uff0c\u8fd4\u56de\u7684\u6307\u9488\u7c7b\u578b\u4e3a<code>*Type</code>\u3002</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main()  {\n    ptr := new(int)\n    fmt.Println(\"ptr address: \", ptr)\n    fmt.Println(\"ptr value: \", *ptr)  // * \u540e\u9762\u63a5\u6307\u9488\u53d8\u91cf\uff0c\u8868\u793a\u4ece\u5185\u5b58\u5730\u5740\u4e2d\u53d6\u51fa\u503c\n}\n\n</code></pre> <p>\u8f93\u51fa</p> <pre><code>ptr address:  0xc000010098\nptr value:  0\n</code></pre> <p>\u7528new\u521b\u5efa\u53d8\u91cf\u548c\u666e\u901a\u53d8\u91cf\u58f0\u660e\u8bed\u53e5\u65b9\u5f0f\u521b\u5efa\u53d8\u91cf\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff0c\u9664\u4e86\u4e0d\u9700\u8981\u58f0\u660e\u4e00\u4e2a\u4e34\u65f6\u53d8\u91cf\u7684\u540d\u5b57\u5916\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5728\u8868\u8fbe\u5f0f\u4e2d\u4f7f\u7528new(Type)\u3002\u6362\u8a00\u4e4b\uff0cnew\u51fd\u6570\u7c7b\u4f3c\u662f\u4e00\u79cd\u8bed\u6cd5\u7cd6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u65b0\u7684\u57fa\u7840\u6982\u5ff5\u3002</p> <p>\u5982\u4e0b\u4e24\u79cd\u5199\u6cd5\uff0c\u53ef\u4ee5\u8bf4\u662f\u7b49\u4ef7\u7684</p> <pre><code>// \u4f7f\u7528 new\nfunc newInt() *int {\n    return new(int)\n}\n\n// \u4f7f\u7528\u4f20\u7edf\u7684\u65b9\u5f0f\nfunc newInt() *int {\n    var dummy int\n    return &amp;dummy\n}\n</code></pre> <p>\u4ee5\u4e0a\u4e0d\u7ba1\u54ea\u79cd\u65b9\u6cd5\uff0c\u53d8\u91cf/\u5e38\u91cf\u90fd\u53ea\u80fd\u58f0\u660e\u4e00\u6b21\uff0c\u58f0\u660e\u591a\u6b21\uff0c\u7f16\u8bd1\u5c31\u4f1a\u62a5\u9519\u3002</p> <p>\u4f46\u4e5f\u6709\u4f8b\u5916\uff0c\u8fd9\u5c31\u8981\u8bf4\u5230\u4e00\u4e2a\u7279\u6b8a\u53d8\u91cf\uff1a\u533f\u540d\u53d8\u91cf\uff0c\u4e5f\u79f0\u4f5c\u5360\u4f4d\u7b26\uff0c\u6216\u8005\u7a7a\u767d\u6807\u8bc6\u7b26\uff0c\u7528\u4e0b\u5212\u7ebf\u8868\u793a\u3002</p> <p>\u533f\u540d\u53d8\u91cf\uff0c\u4f18\u70b9\u6709\u4e09\uff1a</p> <ul> <li>\u4e0d\u5206\u914d\u5185\u5b58\uff0c\u4e0d\u5360\u7528\u5185\u5b58\u7a7a\u95f4</li> <li>\u4e0d\u9700\u8981\u4f60\u4e3a\u547d\u540d\u65e0\u7528\u7684\u53d8\u91cf\u540d\u800c\u7ea0\u7ed3</li> <li>\u591a\u6b21\u58f0\u660e\u4e0d\u4f1a\u6709\u4efb\u4f55\u95ee\u9898</li> </ul> <p>\u901a\u5e38\u6211\u4eec\u7528\u533f\u540d\u63a5\u6536\u5fc5\u987b\u63a5\u6536\uff0c\u4f46\u662f\u53c8\u4e0d\u4f1a\u7528\u5230\u7684\u503c\u3002</p> <pre><code>func GetData() (int, int) {\n    return 100, 200\n}\nfunc main(){\n    a, _ := GetData()\n    _, b := GetData()\n    fmt.Println(a, b)\n}\n</code></pre>"},{"location":"c01/c01_03/","title":"1.3 \u6570\u636e\u7c7b\u578b\uff1a\u6574\u578b\u4e0e\u6d6e\u70b9\u578b","text":""},{"location":"c01/c01_03/#1","title":"1. \u6574\u578b","text":"<p>Go \u8bed\u8a00\u4e2d\uff0c\u6574\u6570\u7c7b\u578b\u53ef\u4ee5\u518d\u7ec6\u5206\u621010\u4e2a\u7c7b\u578b\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5927\u5bb6\u5b66\u4e60\uff0c\u6211\u5c06\u8fd9\u4e9b\u7c7b\u578b\u6574\u7406\u6210\u4e00\u5f20\u8868\u683c\u3002</p> <p></p> <p>int \u548c uint \u7684\u533a\u522b\u5c31\u5728\u4e8e\u4e00\u4e2a <code>u</code>\uff0c\u6709 <code>u</code> \u8bf4\u660e\u662f\u65e0\u7b26\u53f7\uff0c\u6ca1\u6709 <code>u</code> \u4ee3\u8868\u6709\u7b26\u53f7\u3002</p> <p>\u89e3\u91ca\u8fd9\u4e2a\u7b26\u53f7\u7684\u533a\u522b</p> <p>\u4ee5 <code>int8</code> \u548c <code>uint8</code> \u4e3e\u4f8b\uff0c8 \u4ee3\u8868 8\u4e2abit\uff0c\u80fd\u8868\u793a\u7684\u6570\u503c\u4e2a\u6570\u6709 2^8 = 256\u3002</p> <p>uint8 \u662f\u65e0\u7b26\u53f7\uff0c\u80fd\u8868\u793a\u7684\u90fd\u662f\u6b63\u6570\uff0c0-255\uff0c\u521a\u597d256\u4e2a\u6570\u3002</p> <p>int8 \u662f\u6709\u7b26\u53f7\uff0c\u65e2\u53ef\u4ee5\u6b63\u6570\uff0c\u4e5f\u53ef\u4ee5\u8d1f\u6570\uff0c\u90a3\u600e\u4e48\u529e\uff1f\u5bf9\u534a\u5206\u5457\uff0c-128-127\uff0c\u4e5f\u521a\u597d 256\u4e2a\u6570\u3002</p> <p>int8 int16 int32 int64 \u8fd9\u51e0\u4e2a\u7c7b\u578b\u7684\u6700\u540e\u90fd\u6709\u4e00\u4e2a\u6570\u503c\uff0c\u8fd9\u8868\u660e\u4e86\u5b83\u4eec\u80fd\u8868\u793a\u7684\u6570\u503c\u4e2a\u6570\u662f\u56fa\u5b9a\u7684\u3002</p> <p>\u800c int \u5e76\u6ca1\u6709\u6307\u5b9a\u5b83\u7684\u4f4d\u6570\uff0c\u8bf4\u660e\u5b83\u7684\u5927\u5c0f\uff0c\u662f\u53ef\u4ee5\u53d8\u5316\u7684\uff0c\u90a3\u6839\u636e\u4ec0\u4e48\u53d8\u5316\u5462\uff1f</p> <ul> <li>\u5f53\u4f60\u572832\u4f4d\u7684\u7cfb\u7edf\u4e0b\uff0cint \u548c uint \u90fd\u5360\u7528 4\u4e2a\u5b57\u8282\uff0c\u4e5f\u5c31\u662f32\u4f4d\u3002</li> <li>\u82e5\u4f60\u572864\u4f4d\u7684\u7cfb\u7edf\u4e0b\uff0cint \u548c uint \u90fd\u5360\u7528 8\u4e2a\u5b57\u8282\uff0c\u4e5f\u5c31\u662f64\u4f4d\u3002</li> </ul> <p>\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u5728\u67d0\u4e9b\u573a\u666f\u4e0b\uff0c\u4f60\u5e94\u5f53\u907f\u514d\u4f7f\u7528 int \u548c uint \uff0c\u800c\u4f7f\u7528\u66f4\u52a0\u7cbe\u786e\u7684 int32 \u548c int64\uff0c\u6bd4\u5982\u5728\u4e8c\u8fdb\u5236\u4f20\u8f93\u3001\u8bfb\u5199\u6587\u4ef6\u7684\u7ed3\u6784\u63cf\u8ff0\uff08\u4e3a\u4e86\u4fdd\u6301\u6587\u4ef6\u7684\u7ed3\u6784\u4e0d\u4f1a\u53d7\u5230\u4e0d\u540c\u7f16\u8bd1\u76ee\u6807\u5e73\u53f0\u5b57\u8282\u957f\u5ea6\u7684\u5f71\u54cd\uff09</p> <p>\u4e0d\u540c\u8fdb\u5236\u7684\u8868\u793a\u65b9\u6cd5</p> <p>\u51fa\u4e8e\u4e60\u60ef\uff0c\u5728\u521d\u59cb\u5316\u6570\u636e\u7c7b\u578b\u4e3a\u6574\u578b\u7684\u53d8\u91cf\u65f6\uff0c\u6211\u4eec\u4f1a\u4f7f\u752810\u8fdb\u5236\u7684\u8868\u793a\u6cd5\uff0c\u56e0\u4e3a\u5b83\u6700\u76f4\u89c2\uff0c\u6bd4\u5982\u8fd9\u6837\uff0c\u8868\u793a\u6574\u657010.</p> <pre><code>var num int = 10\n</code></pre> <p>\u4e0d\u8fc7\uff0c\u4f60\u8981\u6e05\u695a\uff0c\u4f60\u4e00\u6837\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u8fdb\u5236\u6765\u8868\u793a\u4e00\u4e2a\u6574\u6570\uff0c\u8fd9\u91cc\u4ee5\u6bd4\u8f83\u5e38\u7528\u76842\u8fdb\u5236\u30018\u8fdb\u5236\u548c16\u8fdb\u5236\u4e3e\u4f8b\u3002</p> <p>2\u8fdb\u5236\uff1a\u4ee5<code>0b</code>\u6216<code>0B</code>\u4e3a\u524d\u7f00</p> <pre><code>var num01 int = 0b1100\n</code></pre> <p>8\u8fdb\u5236\uff1a\u4ee5<code>0o</code>\u6216\u8005 <code>0O</code>\u4e3a\u524d\u7f00</p> <pre><code>var num02 int = 0o14\n</code></pre> <p>16\u8fdb\u5236\uff1a\u4ee5<code>0x</code> \u4e3a\u524d\u7f00</p> <pre><code>var num03 int = 0xC\n</code></pre> <p>\u4e0b\u9762\u7528\u4e00\u6bb5\u4ee3\u7801\u5206\u522b\u4f7f\u7528\u4e8c\u8fdb\u5236\u30018\u8fdb\u5236\u300116\u8fdb\u5236\u6765\u8868\u793a 10 \u8fdb\u5236\u7684\u6570\u503c\uff1a12</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var num01 int = 0b1100\n    var num02 int = 0o14\n    var num03 int = 0xC\n\n    fmt.Printf(\"2\u8fdb\u5236\u6570 %b \u8868\u793a\u7684\u662f: %d \\n\", num01, num01)\n    fmt.Printf(\"8\u8fdb\u5236\u6570 %o \u8868\u793a\u7684\u662f: %d \\n\", num02, num02)\n    fmt.Printf(\"16\u8fdb\u5236\u6570 %X \u8868\u793a\u7684\u662f: %d \\n\", num03, num03)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>2\u8fdb\u5236\u6570 1100 \u8868\u793a\u7684\u662f: 12 \n8\u8fdb\u5236\u6570 14 \u8868\u793a\u7684\u662f: 12 \n16\u8fdb\u5236\u6570 C \u8868\u793a\u7684\u662f: 12 \n</code></pre> <p>\u4ee5\u4e0a\u4ee3\u7801\u7528\u8fc7\u4e86 fmt \u5305\u7684\u683c\u5f0f\u5316\u529f\u80fd\uff0c\u4f60\u53ef\u4ee5\u53c2\u8003\u8fd9\u91cc\u53bb\u770b\u4e0a\u9762\u7684\u4ee3\u7801</p> <pre><code>%b    \u8868\u793a\u4e3a\u4e8c\u8fdb\u5236\n%c    \u8be5\u503c\u5bf9\u5e94\u7684unicode\u7801\u503c\n%d    \u8868\u793a\u4e3a\u5341\u8fdb\u5236\n%o    \u8868\u793a\u4e3a\u516b\u8fdb\u5236\n%q    \u8be5\u503c\u5bf9\u5e94\u7684\u5355\u5f15\u53f7\u62ec\u8d77\u6765\u7684go\u8bed\u6cd5\u5b57\u7b26\u5b57\u9762\u503c\uff0c\u5fc5\u8981\u65f6\u4f1a\u91c7\u7528\u5b89\u5168\u7684\u8f6c\u4e49\u8868\u793a\n%x    \u8868\u793a\u4e3a\u5341\u516d\u8fdb\u5236\uff0c\u4f7f\u7528a-f\n%X    \u8868\u793a\u4e3a\u5341\u516d\u8fdb\u5236\uff0c\u4f7f\u7528A-F\n%U    \u8868\u793a\u4e3aUnicode\u683c\u5f0f\uff1aU+1234\uff0c\u7b49\u4ef7\u4e8e\"U+%04X\"\n%E    \u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\n%f    \u7528\u6d6e\u70b9\u6570\u8868\u793a\n</code></pre>"},{"location":"c01/c01_03/#2","title":"2. \u6d6e\u70b9\u578b","text":"<p>\u6d6e\u70b9\u6570\u7c7b\u578b\u7684\u503c\u4e00\u822c\u7531\u6574\u6570\u90e8\u5206\u3001\u5c0f\u6570\u70b9\u201c<code>.</code>\u201d\u548c\u5c0f\u6570\u90e8\u5206\u7ec4\u6210\u3002</p> <p>\u5176\u4e2d\uff0c\u6574\u6570\u90e8\u5206\u548c\u5c0f\u6570\u90e8\u5206\u5747\u753110\u8fdb\u5236\u8868\u793a\u6cd5\u8868\u793a\u3002\u4e0d\u8fc7\u8fd8\u6709\u53e6\u4e00\u79cd\u8868\u793a\u65b9\u6cd5\u3002\u90a3\u5c31\u662f\u5728\u5176\u4e2d\u52a0\u5165\u6307\u6570\u90e8\u5206\u3002\u6307\u6570\u90e8\u5206\u7531\u201cE\u201d\u6216\u201ce\u201d\u4ee5\u53ca\u4e00\u4e2a\u5e26\u6b63\u8d1f\u53f7\u768410\u8fdb\u5236\u6570\u7ec4\u6210\u3002\u6bd4\u5982\uff0c<code>3.7E-2</code>\u8868\u793a\u6d6e\u70b9\u6570<code>0.037</code>\u3002\u53c8\u6bd4\u5982\uff0c<code>3.7E+1</code>\u8868\u793a\u6d6e\u70b9\u6570<code>37</code>\u3002</p> <p>\u6709\u65f6\u5019\uff0c\u6d6e\u70b9\u6570\u7c7b\u578b\u503c\u7684\u8868\u793a\u4e5f\u53ef\u4ee5\u88ab\u7b80\u5316\u3002\u6bd4\u5982\uff0c<code>37.0</code>\u53ef\u4ee5\u88ab\u7b80\u5316\u4e3a<code>37</code>\u3002\u53c8\u6bd4\u5982\uff0c<code>0.037</code>\u53ef\u4ee5\u88ab\u7b80\u5316\u4e3a<code>.037</code>\u3002</p> <p>\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u5728Go\u8bed\u8a00\u91cc\uff0c\u6d6e\u70b9\u6570\u7684\u76f8\u5173\u90e8\u5206\u53ea\u80fd\u753110\u8fdb\u5236\u8868\u793a\u6cd5\u8868\u793a\uff0c\u800c\u4e0d\u80fd\u75318\u8fdb\u5236\u8868\u793a\u6cd5\u621616\u8fdb\u5236\u8868\u793a\u6cd5\u8868\u793a\u3002\u6bd4\u5982\uff0c<code>03.7</code>\u8868\u793a\u7684\u4e00\u5b9a\u662f\u6d6e\u70b9\u6570<code>3.7</code>\u3002</p>"},{"location":"c01/c01_03/#float32-float64","title":"float32 \u548c float64","text":"<p>Go\u8bed\u8a00\u4e2d\u63d0\u4f9b\u4e86\u4e24\u79cd\u7cbe\u5ea6\u7684\u6d6e\u70b9\u6570 float32 \u548c float64\u3002</p> <p>float32\uff0c\u4e5f\u5373\u6211\u4eec\u5e38\u8bf4\u7684\u5355\u7cbe\u5ea6\uff0c\u5b58\u50a8\u5360\u75284\u4e2a\u5b57\u8282\uff0c\u4e5f\u53734*8=32\u4f4d\uff0c\u5176\u4e2d1\u4f4d\u7528\u6765\u7b26\u53f7\uff0c8\u4f4d\u7528\u6765\u6307\u6570\uff0c\u5269\u4e0b\u768423\u4f4d\u8868\u793a\u5c3e\u6570</p> <p></p> <p>float64\uff0c\u4e5f\u5373\u6211\u4eec\u719f\u6089\u7684\u53cc\u7cbe\u5ea6\uff0c\u5b58\u50a8\u5360\u75288\u4e2a\u5b57\u8282\uff0c\u4e5f\u53738*8=64\u4f4d\uff0c\u5176\u4e2d1\u4f4d\u7528\u6765\u7b26\u53f7\uff0c11\u4f4d\u7528\u6765\u6307\u6570\uff0c\u5269\u4e0b\u768452\u4f4d\u8868\u793a\u5c3e\u6570</p> <p></p> <p>\u90a3\u4e48\u7cbe\u5ea6\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u6709\u6548\u4f4d\u6709\u591a\u5c11\u4f4d\uff1f</p> <p>\u7cbe\u5ea6\u4e3b\u8981\u53d6\u51b3\u4e8e\u5c3e\u6570\u90e8\u5206\u7684\u4f4d\u6570\u3002</p> <p>\u5bf9\u4e8e float32\uff08\u5355\u7cbe\u5ea6\uff09\u6765\u8bf4\uff0c\u8868\u793a\u5c3e\u6570\u7684\u4e3a23\u4f4d\uff0c\u9664\u53bb\u5168\u90e8\u4e3a0\u7684\u60c5\u51b5\u4ee5\u5916\uff0c\u6700\u5c0f\u4e3a2^-23\uff0c\u7ea6\u7b49\u4e8e1.19*10^-7\uff0c\u6240\u4ee5float\u5c0f\u6570\u90e8\u5206\u53ea\u80fd\u7cbe\u786e\u5230\u540e\u97626\u4f4d\uff0c\u52a0\u4e0a\u5c0f\u6570\u70b9\u524d\u7684\u4e00\u4f4d\uff0c\u5373\u6709\u6548\u6570\u5b57\u4e3a7\u4f4d\u3002</p> <p>\u540c\u7406 float64\uff08\u5355\u7cbe\u5ea6\uff09\u7684\u5c3e\u6570\u90e8\u5206\u4e3a 52\u4f4d\uff0c\u6700\u5c0f\u4e3a2^-52\uff0c\u7ea6\u4e3a2.22*10^-16\uff0c\u6240\u4ee5\u7cbe\u786e\u5230\u5c0f\u6570\u70b9\u540e15\u4f4d\uff0c\u52a0\u4e0a\u5c0f\u6570\u70b9\u524d\u7684\u4e00\u4f4d\uff0c\u6709\u6548\u4f4d\u6570\u4e3a16\u4f4d\u3002</p> <p>\u901a\u8fc7\u4ee5\u4e0a\uff0c\u53ef\u4ee5\u603b\u7ed3\u51fa\u4ee5\u4e0b\u51e0\u70b9\uff1a</p> <p>\u4e00\u3001float32 \u548c float64 \u53ef\u4ee5\u8868\u793a\u7684\u6570\u503c\u5f88\u591a</p> <p>\u6d6e\u70b9\u6570\u7c7b\u578b\u7684\u53d6\u503c\u8303\u56f4\u53ef\u4ee5\u4ece\u5f88\u5fae\u5c0f\u5230\u5f88\u5de8\u5927\u3002\u6d6e\u70b9\u6570\u53d6\u503c\u8303\u56f4\u7684\u6781\u9650\u503c\u53ef\u4ee5\u5728 math \u5305\u4e2d\u627e\u5230\uff1a</p> <ul> <li>\u5e38\u91cf math.MaxFloat32 \u8868\u793a float32 \u80fd\u53d6\u5230\u7684\u6700\u5927\u6570\u503c\uff0c\u5927\u7ea6\u662f 3.4e38\uff1b</li> <li>\u5e38\u91cf math.MaxFloat64 \u8868\u793a float64 \u80fd\u53d6\u5230\u7684\u6700\u5927\u6570\u503c\uff0c\u5927\u7ea6\u662f 1.8e308\uff1b</li> <li>float32 \u548c float64 \u80fd\u8868\u793a\u7684\u6700\u5c0f\u503c\u5206\u522b\u4e3a 1.4e-45 \u548c 4.9e-324\u3002</li> </ul> <p>\u4e8c\u3001\u6570\u503c\u5f88\u5927\u4f46\u7cbe\u5ea6\u6709\u9650</p> <p>\u4eba\u5bb6\u867d\u7136\u80fd\u8868\u793a\u7684\u6570\u503c\u5f88\u5927\uff0c\u4f46\u7cbe\u5ea6\u4f4d\u5374\u6ca1\u6709\u90a3\u4e48\u5927\u3002</p> <ul> <li>float32\u7684\u7cbe\u5ea6\u53ea\u80fd\u63d0\u4f9b\u5927\u7ea66\u4e2a\u5341\u8fdb\u5236\u6570\uff08\u8868\u793a\u540e\u79d1\u5b66\u8ba1\u6570\u6cd5\u540e\uff0c\u5c0f\u6570\u70b9\u540e6\u4f4d\uff09\u7684\u7cbe\u5ea6</li> <li>float64\u7684\u7cbe\u5ea6\u80fd\u63d0\u4f9b\u5927\u7ea615\u4e2a\u5341\u8fdb\u5236\u6570\uff08\u8868\u793a\u540e\u79d1\u5b66\u8ba1\u6570\u6cd5\u540e\uff0c\u5c0f\u6570\u70b9\u540e15\u4f4d\uff09\u7684\u7cbe\u5ea6</li> </ul> <p>\u8fd9\u91cc\u7684\u7cbe\u5ea6\u662f\u4ec0\u4e48\u610f\u601d\u5462\uff1f</p> <p>\u6bd4\u5982 10000018\u8fd9\u4e2a\u6570\uff0c\u7528 float32 \u7684\u7c7b\u578b\u6765\u8868\u793a\u7684\u8bdd\uff0c\u7531\u4e8e\u5176\u6709\u6548\u4f4d\u662f7\u4f4d\uff0c\u5c0610000018 \u8868\u793a\u6210\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u5c31\u662f 1.0000018 * 10^7\uff0c\u80fd\u7cbe\u786e\u5230\u5c0f\u6570\u70b9\u540e\u97626\u4f4d\u3002</p> <p>\u6b64\u65f6\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\u540e\uff0c\u5c0f\u6570\u70b9\u540e\u67097\u4f4d\uff0c\u521a\u521a\u6ee1\u8db3\u6211\u4eec\u7684\u7cbe\u5ea6\u8981\u6c42\uff0c\u610f\u601d\u662f\u4ec0\u4e48\u5462\uff1f\u6b64\u65f6\u4f60\u5bf9\u8fd9\u4e2a\u6570\u8fdb\u884c+1\u6216\u8005-1\u7b49\u6570\u5b66\u8fd0\u7b97\uff0c\u90fd\u80fd\u4fdd\u8bc1\u8ba1\u7b97\u7ed3\u679c\u662f\u7cbe\u786e\u7684</p> <pre><code>import \"fmt\"\nvar myfloat float32 = 10000018\nfunc main()  {\n    fmt.Println(\"myfloat: \", myfloat)\n    fmt.Println(\"myfloat: \", myfloat+1)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>myfloat:  1.0000018e+07\nmyfloat:  1.0000019e+07\n</code></pre> <p>\u4e0a\u9762\u4e3e\u4e86\u4e00\u4e2a\u521a\u597d\u6ee1\u8db3\u7cbe\u5ea6\u8981\u6c42\u6570\u636e\u7684\u4e34\u754c\u60c5\u51b5\uff0c\u4e3a\u4e86\u505a\u5bf9\u6bd4\uff0c\u4e0b\u9762\u4e5f\u4e3e\u4e00\u4e2a\u521a\u597d\u4e0d\u6ee1\u8db3\u7cbe\u5ea6\u8981\u6c42\u7684\u4f8b\u5b50\u3002\u53ea\u8981\u7ed9\u8fd9\u4e2a\u6570\u503c\u591a\u52a0\u4e00\u4f4d\u6570\u5c31\u884c\u4e86\u3002</p> <p>\u6362\u6210 100000187\uff0c\u540c\u6837\u4f7f\u7528 float32\u7c7b\u578b\uff0c\u8868\u793a\u6210\u79d1\u5b66\u8ba1\u6570\u6cd5\uff0c\u7531\u4e8e\u7cbe\u5ea6\u6709\u9650\uff0c\u8868\u793a\u7684\u65f6\u5019\u5c0f\u6570\u70b9\u540e\u97627\u4f4d\u662f\u51c6\u786e\u7684\uff0c\u4f46\u82e5\u662f\u5bf9\u5176\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\uff0c\u7531\u4e8e\u7b2c\u516b\u4f4d\u65e0\u6cd5\u8868\u793a\uff0c\u6240\u4ee5\u8fd0\u7b97\u540e\u7b2c\u4e03\u4f4d\u7684\u503c\uff0c\u5c31\u4f1a\u53d8\u5f97\u4e0d\u7cbe\u786e\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u5199\u4e2a\u4ee3\u7801\u6765\u9a8c\u8bc1\u4e00\u4e0b\uff0c\u6309\u7167\u6211\u4eec\u7684\u7406\u89e3\u4e0b\u9762 myfloat01 = 100000182 \uff0c\u5bf9\u5176<code>+5</code> \u64cd\u4f5c\u540e\uff0c\u5e94\u8be5\u7b49\u4e8e myfloat02 = 100000187\uff0c</p> <pre><code>import \"fmt\"\n\nvar myfloat01 float32 = 100000182\nvar myfloat02 float32 = 100000187\n\nfunc main() {\n    fmt.Println(\"myfloat: \", myfloat01)\n    fmt.Println(\"myfloat: \", myfloat01+5)\n    fmt.Println(myfloat02 == myfloat01+5)\n}\n</code></pre> <p>\u4f46\u662f\u7531\u4e8e\u5176\u7c7b\u578b\u662f float32\uff0c\u7cbe\u5ea6\u4e0d\u8db3\uff0c\u5bfc\u81f4\u6700\u540e\u6bd4\u8f83\u7684\u7ed3\u679c\u662f\u4e0d\u76f8\u7b49\uff08\u4ece\u5c0f\u6570\u70b9\u540e\u7b2c\u4e03\u4f4d\u5f00\u59cb\u4e0d\u7cbe\u786e\uff09</p> <pre><code>myfloat:  1.00000184e+08\nmyfloat:  1.0000019e+08\nfalse\n</code></pre> <p>\u7531\u4e8e\u7cbe\u5ea6\u7684\u95ee\u9898\uff0c\u5c31\u4f1a\u51fa\u73b0\u8fd9\u79cd\u5f88\u602a\u5f02\u7684\u73b0\u8c61\uff0c<code>myfloat == myfloat +1</code> \u4f1a\u8fd4\u56de <code>true</code> \u3002</p>"},{"location":"c01/c01_03/#_1","title":"\u53c2\u8003\u6587\u7ae0\uff1a","text":"<p>https://www.zhihu.com/question/26022206</p>"},{"location":"c01/c01_04/","title":"1.4 \u6570\u636e\u7c7b\u578b\uff1abyte\u3001rune\u4e0e\u5b57\u7b26\u4e32","text":""},{"location":"c01/c01_04/#1-byte-rune","title":"1. byte \u4e0e rune","text":"<p>byte\uff0c\u5360\u75281\u4e2a\u8282\u5b57\uff0c\u5c31 8 \u4e2a\u6bd4\u7279\u4f4d\uff082^8 = 256\uff0c\u56e0\u6b64 byte \u7684\u8868\u793a\u8303\u56f4 0-&gt;255\uff09\uff0c\u6240\u4ee5\u5b83\u548c <code>uint8</code> \u7c7b\u578b\u672c\u8d28\u4e0a\u6ca1\u6709\u533a\u522b\uff0c\u5b83\u8868\u793a\u7684\u662f ACSII \u8868\u4e2d\u7684\u4e00\u4e2a\u5b57\u7b26\u3002</p> <p>\u5982\u4e0b\u8fd9\u6bb5\u4ee3\u7801\uff0c\u5206\u522b\u5b9a\u4e49\u4e86 byte \u7c7b\u578b\u548c uint8 \u7c7b\u578b\u7684\u53d8\u91cf a \u548c b</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    var a byte = 65\n    // 8\u8fdb\u5236\u5199\u6cd5: var a byte = '\\101'     \u5176\u4e2d \\ \u662f\u56fa\u5b9a\u524d\u7f00\n    // 16\u8fdb\u5236\u5199\u6cd5: var a byte = '\\x41'    \u5176\u4e2d \\x \u662f\u56fa\u5b9a\u524d\u7f00\n\n    var b uint8 = 66\n    fmt.Printf(\"a \u7684\u503c: %c \\nb \u7684\u503c: %c\", a, b)\n\n    // \u6216\u8005\u4f7f\u7528 string \u51fd\u6570\n    // fmt.Println(\"a \u7684\u503c: \", string(a),\" \\nb \u7684\u503c: \", string(b))\n}\n</code></pre> <p>\u660e\u54e5\u6ce8\uff1afmt.Printf \u4e2d\u7684 %c \u8868\u793a\u8f93\u5165\u4e3a\u5355\u4e2a\u5b57\u7b26\uff0c\u8be6\u60c5\u8bf7\u67e5\u770b\uff1a5.1 fmt.Printf \u65b9\u6cd5\u8be6\u89e3</p> <p>\u5728 ASCII \u8868\u4e2d\uff0c\u7531\u4e8e\u5b57\u6bcd A \u7684ASCII \u7684\u7f16\u53f7\u4e3a 65 \uff0c\u5b57\u6bcd B \u7684ASCII \u7f16\u53f7\u4e3a 66\uff0c\u6240\u4ee5\u4e0a\u9762\u7684\u4ee3\u7801\u4e5f\u53ef\u4ee5\u5199\u6210\u8fd9\u6837</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    var a byte = 'A'\n    var b uint8 = 'B'\n    fmt.Printf(\"a \u7684\u503c: %c \\nb \u7684\u503c: %c\", a, b)\n}\n</code></pre> <p>\u4ed6\u4eec\u7684\u8f93\u51fa\u7ed3\u679c\u90fd\u662f\u4e00\u6837\u7684\u3002</p> <pre><code>a \u7684\u503c: A \nb \u7684\u503c: B\n</code></pre> <p>rune\uff0c\u5360\u75284\u4e2a\u5b57\u8282\uff0c\u517132\u4f4d\u6bd4\u7279\u4f4d\uff0c\u6240\u4ee5\u5b83\u548c <code>int32</code> \u672c\u8d28\u4e0a\u4e5f\u6ca1\u6709\u533a\u522b\u3002\u5b83\u8868\u793a\u7684\u662f\u4e00\u4e2a Unicode\u5b57\u7b26\uff08Unicode\u662f\u4e00\u4e2a\u53ef\u4ee5\u8868\u793a\u4e16\u754c\u8303\u56f4\u5185\u7684\u7edd\u5927\u90e8\u5206\u5b57\u7b26\u7684\u7f16\u7801\u89c4\u8303\uff09\u3002</p> <pre><code>import (\n    \"fmt\"\n    \"unsafe\"\n)\n\nfunc main() {\n    var a byte = 'A'\n    var b rune = 'B'\n    fmt.Printf(\"a \u5360\u7528 %d \u4e2a\u5b57\u8282\u6570\\nb \u5360\u7528 %d \u4e2a\u5b57\u8282\u6570\", unsafe.Sizeof(a), unsafe.Sizeof(b))\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>a \u5360\u7528 1 \u4e2a\u5b57\u8282\u6570\nb \u5360\u7528 4 \u4e2a\u5b57\u8282\u6570\n</code></pre> <p>\u7531\u4e8e byte \u7c7b\u578b\u80fd\u8868\u793a\u7684\u503c\u662f\u6709\u9650\uff0c\u53ea\u6709 2^8=256 \u4e2a\u3002\u6240\u4ee5\u5982\u679c\u4f60\u60f3\u8868\u793a\u4e2d\u6587\u7684\u8bdd\uff0c\u4f60\u53ea\u80fd\u4f7f\u7528 rune \u7c7b\u578b\u3002</p> <pre><code>var name rune = '\u4e2d'\n</code></pre> <p>\u6216\u8bb8\u4f60\u5df2\u7ecf\u53d1\u73b0\uff0c\u4e0a\u9762\u6211\u4eec\u5728\u5b9a\u4e49\u5b57\u7b26\u65f6\uff0c\u4e0d\u7ba1\u662f byte \u8fd8\u662f rune \uff0c\u6211\u90fd\u662f\u4f7f\u7528\u5355\u5f15\u53f7\uff0c\u800c\u6ca1\u4f7f\u7528\u53cc\u5f15\u53f7\u3002</p> <p>\u5bf9\u4e8e\u4ece Python \u8f6c\u8fc7\u6765\u7684\u4eba\uff0c\u8fd9\u91cc\u4e00\u5b9a\u8981\u6ce8\u610f\u4e86\uff0c\u5728 Go \u4e2d\u5355\u5f15\u53f7\u4e0e \u53cc\u5f15\u53f7\u5e76\u4e0d\u662f\u7b49\u4ef7\u7684\u3002</p> <p>\u5355\u5f15\u53f7\u7528\u6765\u8868\u793a\u5b57\u7b26\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u91cc\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u53cc\u5f15\u53f7\uff0c\u5c31\u610f\u5473\u7740\u4f60\u8981\u5b9a\u4e49\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8d4b\u503c\u65f6\u4e0e\u524d\u9762\u58f0\u660e\u7684\u4f1a\u4e0d\u4e00\u81f4\uff0c\u8fd9\u6837\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u5c31\u4f1a\u51fa\u9519\u3002</p> <pre><code>cannot use \"A\" (type string) as type byte in assignment\n</code></pre> <p>\u4e0a\u9762\u6211\u8bf4\u4e86\uff0cbyte \u548c uint8 \u6ca1\u6709\u533a\u522b\uff0crune \u548c int32 \u6ca1\u6709\u533a\u522b\uff0c\u90a3\u4e3a\u4ec0\u4e48\u8fd8\u8981\u591a\u51fa\u4e00\u4e2a byte \u548c rune \u7c7b\u578b\u5462\uff1f</p> <p>\u7406\u7531\u5f88\u7b80\u5355\uff0c\u56e0\u4e3auint8 \u548c int32 \uff0c\u76f4\u89c2\u4e0a\u8ba9\u4eba\u4ee5\u4e3a\u8fd9\u662f\u4e00\u4e2a\u6570\u503c\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\uff0c\u5b83\u4e5f\u53ef\u4ee5\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c\u6240\u4ee5\u4e3a\u4e86\u6d88\u9664\u8fd9\u79cd\u76f4\u89c2\u9519\u89c9\uff0c\u5c31\u8bde\u751f\u4e86 byte \u548c rune \u8fd9\u4e24\u4e2a\u522b\u540d\u7c7b\u578b\u3002</p>"},{"location":"c01/c01_04/#2","title":"2. \u5b57\u7b26\u4e32","text":"<p>\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u8bf4\u662f\u5927\u5bb6\u5f88\u719f\u6089\u7684\u6570\u636e\u7c7b\u578b\u4e4b\u4e00\u3002\u5b9a\u4e49\u65b9\u6cd5\u5f88\u7b80\u5355</p> <pre><code>var mystr string = \"hello\"\n</code></pre> <p>\u4e0a\u9762\u8bf4\u7684byte \u548c rune \u90fd\u662f\u5b57\u7b26\u7c7b\u578b\uff0c\u82e5\u591a\u4e2a\u5b57\u7b26\u653e\u5728\u4e00\u8d77\uff0c\u5c31\u7ec4\u6210\u4e86\u5b57\u7b26\u4e32\uff0c\u4e5f\u5c31\u662f\u8fd9\u91cc\u8981\u8bf4\u7684 string \u7c7b\u578b\u3002</p> <p>\u6bd4\u5982 <code>hello</code> \uff0c\u5bf9\u7167 ascii \u7f16\u7801\u8868\uff0c\u6bcf\u4e2a\u5b57\u6bcd\u5bf9\u5e94\u7684\u7f16\u53f7\u662f\uff1a104,101,108,108,111</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    var mystr01 string = \"hello\"\n    var mystr02 [5]byte = [5]byte{104, 101, 108, 108, 111}\n    fmt.Printf(\"mystr01: %s\\n\", mystr01)\n    fmt.Printf(\"mystr02: %s\", mystr02)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff0cmystr01 \u548c mystr02 \u8f93\u51fa\u4e00\u6837\uff0c\u8bf4\u660e\u4e86 string \u7684\u672c\u8d28\uff0c\u5176\u5b9e\u662f\u4e00\u4e2a byte\u6570\u7ec4</p> <pre><code>mystr01: hello\nmystr02: hello\n</code></pre> <p>\u901a\u8fc7\u4ee5\u4e0a\u5b66\u4e60\uff0c\u6211\u4eec\u77e5\u9053\u5b57\u7b26\u5206\u4e3a byte \u548c rune\uff0c\u5360\u7528\u7684\u5927\u5c0f\u4e0d\u540c\u3002</p> <p>\u8fd9\u91cc\u6765\u8003\u4e00\u4e0b\u5927\u5bb6\uff0c<code>hello,\u4e2d\u56fd</code> \u5360\u7528\u51e0\u4e2a\u5b57\u8282\uff1f</p> <p>\u8981\u56de\u7b54\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f60\u5f97\u77e5\u9053 Go \u8bed\u8a00\u7684 string \u662f\u7528 uft-8 \u8fdb\u884c\u7f16\u7801\u7684\uff0c\u82f1\u6587\u5b57\u6bcd\u5360\u7528\u4e00\u4e2a\u5b57\u8282\uff0c\u800c\u4e2d\u6587\u5b57\u6bcd\u5360\u7528 3\u4e2a\u5b57\u8282\uff0c\u6240\u4ee5 <code>hello,\u4e2d\u56fd</code> \u7684\u957f\u5ea6\u4e3a 5+1+\uff083\uff0a2)= 12\u4e2a\u5b57\u8282\u3002</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    var country string = \"hello,\u4e2d\u56fd\"\n    fmt.Println(len(country))\n}\n// \u8f93\u51fa\n12\n</code></pre> <p>\u4ee5\u4e0a\u867d\u7136\u6211\u90fd\u7528\u53cc\u5f15\u53f7\u8868\u793a \u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f46\u8fd9\u5e76\u4e0d\u662f\u5b57\u7b26\u4e32\u7684\u552f\u4e00\u8868\u793a\u65b9\u5f0f\u3002</p> <p>\u9664\u4e86\u53cc\u5f15\u53f7\u4e4b\u5916 \uff0c\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528\u53cd\u5f15\u53f7\u3002</p> <p>\u5927\u591a\u60c5\u51b5\u4e0b\uff0c\u4e8c\u8005\u5e76\u6ca1\u6709\u533a\u522b\uff0c\u4f46\u5982\u679c\u4f60\u7684\u5b57\u7b26\u4e32\u4e2d\u6709\u8f6c\u4e49\u5b57\u7b26<code>\\</code> \uff0c\u8fd9\u91cc\u5c31\u8981\u6ce8\u610f\u4e86\uff0c\u5b83\u4eec\u662f\u6709\u533a\u522b\u7684\u3002</p> <p>\u4f7f\u7528\u53cd\u5f15\u53f7\u5305\u88f9\u7684\u5b57\u7b26\u4e32\uff0c\u76f8\u5f53\u4e8e Python \u4e2d\u7684 raw \u5b57\u7b26\u4e32\uff0c\u4f1a\u5ffd\u7565\u91cc\u9762\u7684\u8f6c\u4e49\u3002</p> <p>\u6bd4\u5982\u6211\u60f3\u8868\u793a <code>\\r\\n</code> \u8fd9\u4e2a \u5b57\u7b26\u4e32\uff0c\u4f7f\u7528\u53cc\u5f15\u53f7\u662f\u8fd9\u6837\u5199\u7684\uff0c\u8fd9\u79cd\u53eb\u89e3\u91ca\u578b\u8868\u793a\u6cd5</p> <pre><code>var mystr01 string = \"\\\\r\\\\n\"\n</code></pre> <p>\u800c\u4f7f\u7528\u53cd\u5f15\u53f7\uff0c\u5c31\u65b9\u4fbf\u591a\u4e86\uff0c\u6240\u89c1\u5373\u6240\u5f97\uff0c\u8fd9\u79cd\u53eb\u539f\u751f\u578b\u8868\u793a\u6cd5</p> <pre><code>var mystr02 string = `\\r\\n`\n</code></pre> <p>\u4ed6\u4eec\u7684\u6253\u5370\u7ed3\u679c \u90fd\u662f\u4e00\u6837\u7684</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    var mystr01 string = \"\\\\r\\\\n\"\n    var mystr02 string = `\\r\\n`\n    fmt.Println(mystr01)\n    fmt.Println(mystr02)\n}\n\n// output\n\\r\\n\n\\r\\n\n</code></pre> <p>\u5982\u679c\u4f60\u4ecd\u7136\u60f3\u4f7f\u7528\u89e3\u91ca\u578b\u7684\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u5404\u79cd\u8f6c\u4e49\u5b9e\u5728\u592a\u9ebb\u70e6\u4e86\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528 fmt \u7684 <code>%q</code> \u6765\u8fd8\u539f\u4e00\u4e0b\u3002</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    var mystr01 string = `\\r\\n`\n    fmt.Print(`\\r\\n`)\n    fmt.Printf(\"\u7684\u89e3\u91ca\u578b\u5b57\u7b26\u4e32\u662f\uff1a %q\", mystr01)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>\\r\\n\u7684\u89e3\u91ca\u578b\u5b57\u7b26\u4e32\u662f\uff1a \"\\\\r\\\\n\"\n</code></pre> <p>\u540c\u65f6\u53cd\u5f15\u53f7\u53ef\u4ee5\u4e0d\u5199\u6362\u884c\u7b26\uff08\u56e0\u4e3a\u6ca1\u6cd5\u5199\uff09\u6765\u8868\u793a\u4e00\u4e2a\u591a\u884c\u7684\u5b57\u7b26\u4e32\u3002</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    var mystr01 string = `\u4f60\u597d\u5440!\n\u6211\u7684\u516c\u4f17\u53f7\u662f: Go\u7f16\u7a0b\u65f6\u5149\uff0c\u6b22\u8fce\u5927\u5bb6\u5173\u6ce8`\n\n    fmt.Println(mystr01)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>\u4f60\u597d\u5440!\n\u6211\u7684\u516c\u4f17\u53f7\u662f: Go\u7f16\u7a0b\u65f6\u5149\uff0c\u6b22\u8fce\u5927\u5bb6\u5173\u6ce8\n</code></pre>"},{"location":"c01/c01_05/","title":"1.5 \u6570\u636e\u7c7b\u578b\uff1a\u6570\u7ec4\u4e0e\u5207\u7247","text":""},{"location":"c01/c01_05/#1","title":"1. \u6570\u7ec4","text":"<p>\u6570\u7ec4\u662f\u4e00\u4e2a\u7531\u56fa\u5b9a\u957f\u5ea6\u7684\u7279\u5b9a\u7c7b\u578b\u5143\u7d20\u7ec4\u6210\u7684\u5e8f\u5217\uff0c\u4e00\u4e2a\u6570\u7ec4\u53ef\u4ee5\u7531\u96f6\u4e2a\u6216\u591a\u4e2a\u5143\u7d20\u7ec4\u6210\u3002\u56e0\u4e3a\u6570\u7ec4\u7684\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u5728Go\u8bed\u8a00\u4e2d\u5f88\u5c11\u76f4\u63a5\u4f7f\u7528\u6570\u7ec4\u3002</p> <p>\u58f0\u660e\u6570\u7ec4\uff0c\u5e76\u7ed9\u8be5\u6570\u7ec4\u91cc\u7684\u6bcf\u4e2a\u5143\u7d20\u8d4b\u503c\uff08\u7d22\u5f15\u503c\u7684\u6700\u5c0f\u6709\u6548\u503c\u548c\u5176\u4ed6\u5927\u591a\u6570\u8bed\u8a00\u4e00\u6837\u662f 0\uff0c\u4e0d\u662f1\uff09</p> <pre><code>// [3] \u91cc\u76843 \u8868\u793a\u8be5\u6570\u7ec4\u7684\u5143\u7d20\u4e2a\u6570\u53ca\u5bb9\u91cf\nvar arr [3]int\narr[0] = 1\narr[1] = 2\narr[2] = 3\n</code></pre> <p>\u58f0\u660e\u5e76\u76f4\u63a5\u521d\u59cb\u5316\u6570\u7ec4 </p> <pre><code>// \u7b2c\u4e00\u79cd\u65b9\u6cd5\nvar arr [3]int = [3]int{1,2,3}\n\n// \u7b2c\u4e8c\u79cd\u65b9\u6cd5\narr := [3]int{1,2,3}\n</code></pre> <p>\u4e0a\u9762\u7684 3 \u8868\u793a\u6570\u7ec4\u7684\u5143\u7d20\u4e2a\u6570 \uff0c\u4e07\u4e00\u4f60\u54ea\u5929\u60f3\u5f80\u8be5\u6570\u7ec4\u4e2d\u589e\u52a0\u5143\u7d20\uff0c\u4f60\u5f97\u5bf9\u5e94\u4fee\u6539\u8fd9\u4e2a\u6570\u5b57\uff0c\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u786c\u7f16\u7801\uff0c\u4f60\u53ef\u4ee5\u8fd9\u6837\u5199\uff0c\u4f7f\u7528 <code>...</code> \u8ba9Go\u8bed\u8a00\u81ea\u5df1\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u6765\u5206\u914d\u7a7a\u95f4\u3002</p> <pre><code>arr := [...]int{1,2,3}\n</code></pre> <p><code>[3]int</code> \u548c <code>[4]int</code> \u867d\u7136\u90fd\u662f\u6570\u7ec4\uff0c\u4f46\u4ed6\u4eec\u5374\u662f\u4e0d\u540c\u7684\u7c7b\u578b\uff0c\u4f7f\u7528 fmt \u7684 <code>%T</code> \u53ef\u4ee5\u67e5\u5f97\u3002</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    arr01 := [...]int{1, 2, 3}\n    arr02 := [...]int{1, 2, 3, 4}\n    fmt.Printf(\"%d \u7684\u7c7b\u578b\u662f: %T\\n\", arr01, arr01)\n    fmt.Printf(\"%d \u7684\u7c7b\u578b\u662f: %T\", arr02, arr02)\n}\n</code></pre> <p>\u8f93\u51fa \u5982\u4e0b</p> <pre><code>[1 2 3] \u7684\u7c7b\u578b\u662f: [3]int\n[1 2 3 4] \u7684\u7c7b\u578b\u662f: [4]int\n</code></pre> <p>\u5982\u679c\u4f60\u89c9\u5f97\u6bcf\u6b21\u5199 <code>[3]int</code> \u6709\u70b9\u9ebb\u70e6\uff0c\u4f60\u53ef\u4ee5\u4e3a <code>[3]int</code> \u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b\u5b57\u9762\u91cf\uff0c\u4e5f\u5c31\u662f\u522b\u540d\u7c7b\u578b\u3002</p> <p>\u4f7f\u7528 <code>type</code> \u5173\u952e\u5b57\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u7c7b\u578b\u5b57\u9762\u91cf\uff0c\u540e\u9762\u53ea\u8981\u4f60\u60f3\u5b9a\u4e49\u4e00\u4e2a\u5bb9\u5668\u5927\u5c0f\u4e3a3\uff0c\u5143\u7d20\u7c7b\u578b\u4e3aint\u7684\u6570\u7ec4 \uff0c\u90fd\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u522b\u540d\u7c7b\u578b\u3002</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    type arr3 [3]int\n\n    myarr := arr3{1,2,3}\n    fmt.Printf(\"%d \u7684\u7c7b\u578b\u662f: %T\", myarr, myarr)\n}\n</code></pre> <p>\u8f93\u51fa \u5982\u4e0b</p> <pre><code>[1 2 3] \u7684\u7c7b\u578b\u662f: main.arr3\n</code></pre> <p>\u5176\u5b9e\u5b9a\u4e49\u6570\u7ec4\u8fd8\u6709\u4e00\u79cd\u5077\u61d2\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\u4e0b\u9762\u8fd9\u884c\u4ee3\u7801</p> <pre><code>arr:=[4]int{2:3}\n</code></pre> <p>\u6253\u5370 arr\uff0c\u4f1a\u662f</p> <pre><code>[0 0 3 0]\n</code></pre> <p>\u53ef\u4ee5\u770b\u51fa<code>[4]int{2:3}</code>\uff0c4\u8868\u793a\u6570\u7ec4\u67094\u4e2a\u5143\u7d20\uff0c2 \u548c 3 \u5206\u522b\u8868\u793a\u8be5\u6570\u7ec4\u7d22\u5f15\u4e3a2\uff08\u521d\u59cb\u7d22\u5f15\u4e3a0\uff09\u7684\u503c\u4e3a3\uff0c\u800c\u5176\u4ed6\u6ca1\u6709\u6307\u5b9a\u503c\u7684\uff0c\u5c31\u662f int \u7c7b\u578b\u7684\u96f6\u503c\uff0c\u53730\u3002</p>"},{"location":"c01/c01_05/#2","title":"2. \u5207\u7247","text":"<p>\u5207\u7247\uff08Slice\uff09\u4e0e\u6570\u7ec4\u4e00\u6837\uff0c\u4e5f\u662f\u53ef\u4ee5\u5bb9\u7eb3\u82e5\u5e72\u7c7b\u578b\u76f8\u540c\u7684\u5143\u7d20\u7684\u5bb9\u5668\u3002\u4e0e\u6570\u7ec4\u4e0d\u540c\u7684\u662f\uff0c\u65e0\u6cd5\u901a\u8fc7\u5207\u7247\u7c7b\u578b\u6765\u786e\u5b9a\u5176\u503c\u7684\u957f\u5ea6\u3002\u6bcf\u4e2a\u5207\u7247\u503c\u90fd\u4f1a\u5c06\u6570\u7ec4\u4f5c\u4e3a\u5176\u5e95\u5c42\u6570\u636e\u7ed3\u6784\u3002\u6211\u4eec\u4e5f\u628a\u8fd9\u6837\u7684\u6570\u7ec4\u79f0\u4e3a\u5207\u7247\u7684\u5e95\u5c42\u6570\u7ec4\u3002</p> <p>\u5207\u7247\u662f\u5bf9\u6570\u7ec4\u7684\u4e00\u4e2a\u8fde\u7eed\u7247\u6bb5\u7684\u5f15\u7528\uff0c\u6240\u4ee5\u5207\u7247\u662f\u4e00\u4e2a\u5f15\u7528\u7c7b\u578b\uff0c\u8fd9\u4e2a\u7247\u6bb5\u53ef\u4ee5\u662f\u6574\u4e2a\u6570\u7ec4\uff0c\u4e5f\u53ef\u4ee5\u662f\u7531\u8d77\u59cb\u548c\u7ec8\u6b62\u7d22\u5f15\u6807\u8bc6\u7684\u4e00\u4e9b\u9879\u7684\u5b50\u96c6\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7ec8\u6b62\u7d22\u5f15\u6807\u8bc6\u7684\u9879\u4e0d\u5305\u62ec\u5728\u5207\u7247\u5185\uff08\u610f\u601d\u662f\u8fd9\u662f\u4e2a\u5de6\u95ed\u53f3\u5f00\u7684\u533a\u95f4\uff09</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    myarr := [...]int{1, 2, 3}\n    fmt.Printf(\"%d \u7684\u7c7b\u578b\u662f: %T\", myarr[0:2], myarr[0:2])\n}\n</code></pre> <p>\u8f93\u51fa \u5982\u4e0b</p> <pre><code>[1 2] \u7684\u7c7b\u578b\u662f: []int\n</code></pre> <p>\u5207\u7247\u7684\u6784\u9020\uff0c\u6709\u56db\u79cd\u65b9\u5f0f</p> <ol> <li>\u5bf9\u6570\u7ec4\u8fdb\u884c\u7247\u6bb5\u622a\u53d6\uff0c\u4e3b\u8981\u6709\u5982\u4e0b\u4e24\u79cd\u5199\u6cd5</li> </ol> <p>```go    // \u5b9a\u4e49\u4e00\u4e2a\u6570\u7ec4    myarr := [5]int{1,2,3,4,5}</p> <p>// \u3010\u7b2c\u4e00\u79cd\u3011    // 1 \u8868\u793a\u4ece\u7d22\u5f151\u5f00\u59cb\uff0c\u76f4\u5230\u5230\u7d22\u5f15\u4e3a 2 (3-1)\u7684\u5143\u7d20    mysli1 := myarr[1:3] </p> <p>// \u3010\u7b2c\u4e8c\u79cd\u3011    // 1 \u8868\u793a\u4ece\u7d22\u5f151\u5f00\u59cb\uff0c\u76f4\u5230\u5230\u7d22\u5f15\u4e3a 2 (3-1)\u7684\u5143\u7d20    mysli2 := myarr[1:3:4]     ```</p> <p>\u5982\u679c\u4f60\u628a\u4e0a\u9762\u7684 <code>mysli1</code> \u548c <code>mysli2</code> \u6253\u5370\u51fa\u6765\uff0c\u4f1a\u53d1\u73b0\u4ed6\u4eec\u5c45\u7136\u662f\u4e00\u6837\u7684\u3002\u90a3\u7b2c\u4e8c\u79cd\u7684 <code>myarr[1:3:4]</code> \u7684 4\u6709\u4ec0\u4e48\u7528\u5462\uff1f</p> <p>\u5728\u5207\u7247\u65f6\uff0c\u82e5\u4e0d\u6307\u5b9a\u7b2c\u4e09\u4e2a\u6570\uff0c\u90a3\u4e48\u5207\u7247\u7ec8\u6b62\u7d22\u5f15\u4f1a\u4e00\u76f4\u5230\u539f\u6570\u7ec4\u7684\u6700\u540e\u4e00\u4e2a\u6570\u3002\u800c\u5982\u679c\u6307\u5b9a\u4e86\u7b2c\u4e09\u4e2a\u6570\uff0c\u90a3\u4e48\u5207\u7247\u7ec8\u6b62\u7d22\u5f15\u53ea\u4f1a\u5230\u539f\u6570\u7ec4\u7684\u8be5\u7d22\u5f15\u503c\u3002</p> <p>\u7528\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u6765\u9a8c\u8bc1\u4e00\u4e0b</p> <p>```go    package main</p> <p>import \"fmt\"</p> <p>func main(){        myarr := [5]int{1,2,3,4,5}        fmt.Printf(\"myarr \u7684\u957f\u5ea6\u4e3a\uff1a%d\uff0c\u5bb9\u91cf\u4e3a\uff1a%d\\n\", len(myarr), cap(myarr))</p> <pre><code>   mysli1 := myarr[1:3]\n   fmt.Printf(\"mysli1 \u7684\u957f\u5ea6\u4e3a\uff1a%d\uff0c\u5bb9\u91cf\u4e3a\uff1a%d\\n\", len(mysli1), cap(mysli1))\n   fmt.Println(mysli1)\n\n   mysli2 := myarr[1:3:4]\n   fmt.Printf(\"mysli2 \u7684\u957f\u5ea6\u4e3a\uff1a%d\uff0c\u5bb9\u91cf\u4e3a\uff1a%d\\n\", len(mysli2), cap(mysli2))\n   fmt.Println(mysli2)\n</code></pre> <p>}    ```</p> <p>\u8f93\u51fa\u5982\u4e0b\uff0c\u8bf4\u660e\u5207\u7247\u7684\u7b2c\u4e09\u4e2a\u6570\uff0c\u5f71\u54cd\u7684\u53ea\u662f\u5207\u7247\u7684\u5bb9\u91cf\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u957f\u5ea6</p> <p><code>myarr \u7684\u957f\u5ea6\u4e3a\uff1a5\uff0c\u5bb9\u91cf\u4e3a\uff1a5    mysli1 \u7684\u957f\u5ea6\u4e3a\uff1a2\uff0c\u5bb9\u91cf\u4e3a\uff1a4    [2 3]    mysli2 \u7684\u957f\u5ea6\u4e3a\uff1a2\uff0c\u5bb9\u91cf\u4e3a\uff1a3    [2 3]</code></p> <ol> <li>\u4ece\u5934\u58f0\u660e\u8d4b\u503c\uff08\u4f8b\u5b50\u5982\u4e0b\uff09</li> </ol> <p>```go    // \u58f0\u660e\u5b57\u7b26\u4e32\u5207\u7247    var strList []string</p> <p>// \u58f0\u660e\u6574\u578b\u5207\u7247    var numList []int</p> <p>// \u58f0\u660e\u4e00\u4e2a\u7a7a\u5207\u7247    var numListEmpty = []int{}    ```</p> <ol> <li>\u4f7f\u7528 make \u51fd\u6570\u6784\u9020\uff0cmake \u51fd\u6570\u7684\u683c\u5f0f\uff1a<code>make( []Type, size, cap )</code></li> </ol> <p>\u8fd9\u4e2a\u51fd\u6570\u521a\u597d\u6307\u51fa\u4e86\uff0c\u4e00\u4e2a\u5207\u7247\u5177\u5907\u7684\u4e09\u4e2a\u8981\u7d20\uff1a\u7c7b\u578b\uff08Type\uff09\uff0c\u957f\u5ea6\uff08size\uff09\uff0c\u5bb9\u91cf\uff08cap\uff09</p> <p>```go    import (     \"fmt\"    )</p> <p>func main() {     a := make([]int, 2)     b := make([]int, 2, 10)     fmt.Println(a, b)     fmt.Println(len(a), len(b))     fmt.Println(cap(a), cap(b))    }    ```</p> <p>\u8f93\u51fa \u5982\u4e0b </p> <p><code>[0 0] [0 0]    2 2    2 10</code></p> <ol> <li>\u4f7f\u7528\u548c\u6570\u7ec4\u4e00\u6837\uff0c\u5077\u61d2\u7684\u65b9\u6cd5</li> </ol> <p>```go    import (     \"fmt\"    )</p> <p>func main() {        a := []int{4:2}        fmt.Println(a)        fmt.Println(len(a), cap(a))    }    ```</p> <p>\u8f93\u51fa\u5982\u4e0b</p> <p><code>[0 0 0 0 2]    5 5</code></p> <p>\u5173\u4e8e len \u548c cap \u7684\u6982\u5ff5\uff0c\u53ef\u80fd\u4e0d\u597d\u7406\u89e3 \uff0c\u8fd9\u91cc\u4e3e\u4e2a\u4f8b\u5b50\uff1a</p> <ul> <li> <p>\u516c\u53f8\u540d\uff0c\u76f8\u5f53\u4e8e\u5b57\u9762\u91cf\uff0c\u4e5f\u5c31\u662f\u53d8\u91cf\u540d\u3002</p> </li> <li> <p>\u516c\u53f8\u91cc\u7684\u6240\u6709\u5de5\u4f4d\uff0c\u76f8\u5f53\u4e8e\u5df2\u5206\u914d\u5230\u7684\u5185\u5b58\u7a7a\u95f4</p> </li> <li> <p>\u516c\u53f8\u91cc\u7684\u5458\u5de5\uff0c\u76f8\u5f53\u4e8e\u5143\u7d20\u3002</p> </li> <li> <p>cap \u4ee3\u8868\u4f60\u8fd9\u4e2a\u516c\u53f8\u6700\u591a\u53ef\u4ee5\u5bb9\u7eb3\u591a\u5c11\u5458\u5de5</p> </li> <li> <p>len \u4ee3\u8868\u4f60\u8fd9\u4e2a\u516c\u53f8\u5f53\u524d\u6709\u591a\u5c11\u4e2a\u5458\u5de5</p> </li> </ul> <p>\u7531\u4e8e \u5207\u7247\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u6240\u4ee5\u4f60\u4e0d\u5bf9\u5b83\u8fdb\u884c\u8d4b\u503c\u7684\u8bdd\uff0c\u5b83\u7684\u96f6\u503c\uff08\u9ed8\u8ba4\u503c\uff09\u662f nil</p> <pre><code>var myarr []int\nfmt.Println(myarr == nil)\n// true\n</code></pre> <p>\u6570\u7ec4 \u4e0e \u5207\u7247 \u6709\u76f8\u540c\u70b9\uff0c\u5b83\u4eec\u90fd\u662f\u53ef\u4ee5\u5bb9\u7eb3\u82e5\u5e72\u7c7b\u578b\u76f8\u540c\u7684\u5143\u7d20\u7684\u5bb9\u5668</p> <p>\u4e5f\u6709\u4e0d\u540c\u70b9\uff0c\u6570\u7ec4\u7684\u5bb9\u5668\u5927\u5c0f\u56fa\u5b9a\uff0c\u800c\u5207\u7247\u672c\u8eab\u662f\u5f15\u7528\u7c7b\u578b\uff0c\u5b83\u66f4\u50cf\u662f Python \u4e2d\u7684 list \uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5b83 append \u8fdb\u884c\u5143\u7d20\u7684\u6dfb\u52a0\u3002</p> <pre><code>import (\n    \"fmt\"\n)\n\nfunc main() {\n    myarr := []int{1}\n    // \u8ffd\u52a0\u4e00\u4e2a\u5143\u7d20\n    myarr = append(myarr, 2)\n    // \u8ffd\u52a0\u591a\u4e2a\u5143\u7d20\n    myarr = append(myarr, 3, 4)\n    // \u8ffd\u52a0\u4e00\u4e2a\u5207\u7247, ... \u8868\u793a\u89e3\u5305\uff0c\u4e0d\u80fd\u7701\u7565\n    myarr = append(myarr, []int{7, 8}...)\n    // \u5728\u7b2c\u4e00\u4e2a\u4f4d\u7f6e\u63d2\u5165\u5143\u7d20\n    myarr = append([]int{0}, myarr...)\n    // \u5728\u4e2d\u95f4\u63d2\u5165\u4e00\u4e2a\u5207\u7247(\u4e24\u4e2a\u5143\u7d20)\n    myarr = append(myarr[:5], append([]int{5,6}, myarr[5:]...)...)\n    fmt.Println(myarr)\n}\n</code></pre> <p>\u8f93\u51fa \u5982\u4e0b</p> <pre><code>[0 1 2 3 4 5 6 7 8]\n</code></pre>"},{"location":"c01/c01_05/#3","title":"3. \u601d\u8003\u9898","text":"<p>\u6700\u540e\uff0c\u7ed9\u4f60\u7559\u9053\u601d\u8003\u9898\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    var numbers4 = [...]int{1, 2, 3, 4, 5, 6, 7, 8, 9, 10}\n    myslice := numbers4[4:6:8]\n    fmt.Printf(\"myslice\u4e3a %d, \u5176\u957f\u5ea6\u4e3a: %d\\n\", myslice, len(myslice))\n\n    myslice = myslice[:cap(myslice)]\n    fmt.Printf(\"myslice\u7684\u7b2c\u56db\u4e2a\u5143\u7d20\u4e3a: %d\", myslice[3])\n}\n</code></pre> <p>\u4e3a\u4ec0\u4e48 myslice \u7684\u957f\u5ea6\u4e3a2\uff0c\u5374\u80fd\u8bbf\u95ee\u5230\u7b2c\u56db\u4e2a\u5143\u7d20</p> <pre><code>myslice\u4e3a [5 6], \u5176\u957f\u5ea6\u4e3a: 2\nmyslice\u7684\u7b2c\u56db\u4e2a\u5143\u7d20\u4e3a: 8\n</code></pre>"},{"location":"c01/c01_06/","title":"1.6 \u6570\u636e\u7c7b\u578b\uff1a\u5b57\u5178\u4e0e\u5e03\u5c14\u7c7b\u578b","text":""},{"location":"c01/c01_06/#1","title":"1. \u5b57\u5178","text":"<p>\u5b57\u5178\uff08Map \u7c7b\u578b\uff09\uff0c\u662f\u7531\u82e5\u5e72\u4e2a <code>key:value</code> \u8fd9\u6837\u7684\u952e\u503c\u5bf9\u6620\u5c04\u7ec4\u5408\u5728\u4e00\u8d77\u7684\u6570\u636e\u7ed3\u6784\u3002</p> <p>\u5b83\u662f\u54c8\u5e0c\u8868\u7684\u4e00\u4e2a\u5b9e\u73b0\uff0c\u8fd9\u5c31\u8981\u6c42\u5b83\u7684\u6bcf\u4e2a\u6620\u5c04\u91cc\u7684key\uff0c\u90fd\u662f\u552f\u4e00\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>==</code> \u548c <code>!=</code> \u6765\u8fdb\u884c\u5224\u7b49\u64cd\u4f5c\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662fkey\u5fc5\u987b\u662f\u53ef\u54c8\u5e0c\u7684\u3002</p> <p>\u4ec0\u4e48\u53eb\u53ef\u54c8\u5e0c\u7684\uff1f\u7b80\u5355\u6765\u8bf4\uff0c\u4e00\u4e2a\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0c\u90fd\u53ef\u4ee5\u7528\u4e00\u4e2a\u54c8\u5e0c\u503c\u6765\u552f\u4e00\u8868\u793a\uff0c\u8fd9\u6837\u7684\u4e0d\u53ef\u53d8\u5bf9\u8c61\uff0c\u6bd4\u5982\u5b57\u7b26\u4e32\u7c7b\u578b\u7684\u5bf9\u8c61\uff08\u53ef\u4ee5\u8bf4\u9664\u4e86\u5207\u7247\u3001 \u5b57\u5178\uff0c\u51fd\u6570\u4e4b\u5916\u7684\u5176\u4ed6\u5185\u5efa\u7c7b\u578b\u90fd\u7b97\uff09\u3002</p> <p>\u610f\u601d\u5c31\u662f\uff0c\u4f60\u7684 key \u4e0d\u80fd\u662f\u5207\u7247\uff0c\u4e0d\u80fd\u662f\u5b57\u5178\uff0c\u4e0d\u80fd\u662f\u51fd\u6570\u3002\u3002</p> <p>\u5b57\u5178\u7531key\u548cvalue\u7ec4\u6210\uff0c\u5b83\u4eec\u5404\u81ea\u6709\u5404\u81ea\u7684\u7c7b\u578b\u3002</p> <p>\u5728\u58f0\u660e\u5b57\u5178\u65f6\uff0c\u5fc5\u987b\u6307\u5b9a\u597d\u4f60\u7684key\u548cvalue\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\uff0c\u7136\u540e\u4f7f\u7528 map \u5173\u952e\u5b57\u6765\u544a\u8bc9Go\u8fd9\u662f\u4e00\u4e2a\u5b57\u5178\u3002</p> <pre><code>map[KEY_TYPE]VALUE_TYPE\n</code></pre>"},{"location":"c01/c01_06/#_1","title":"\u58f0\u660e\u521d\u59cb\u5316\u5b57\u5178","text":"<p>\u4e09\u79cd\u58f0\u660e\u5e76\u521d\u59cb\u5316\u5b57\u5178\u7684\u65b9\u6cd5</p> <pre><code>// \u7b2c\u4e00\u79cd\u65b9\u6cd5\nvar scores map[string]int = map[string]int{\"english\": 80, \"chinese\": 85}\n\n// \u7b2c\u4e8c\u79cd\u65b9\u6cd5\nscores := map[string]int{\"english\": 80, \"chinese\": 85}\n\n// \u7b2c\u4e09\u79cd\u65b9\u6cd5\nscores := make(map[string]int)\nscores[\"english\"] = 80\nscores[\"chinese\"] = 85\n</code></pre> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5982\u679c\u62c6\u5206\u6210\u591a\u6b65\uff08\u58f0\u660e\u3001\u521d\u59cb\u5316\u3001\u518d\u8d4b\u503c\uff09\uff0c\u548c\u5176\u4ed6\u4e24\u79cd\u6709\u5f88\u5927\u7684\u4e0d\u4e00\u6837\u4e86\uff0c\u76f8\u5bf9\u4f1a\u6bd4\u8f83\u9ebb\u70e6\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    // \u58f0\u660e\u4e00\u4e2a\u540d\u4e3a score \u7684\u5b57\u5178\n    var scores map[string]int\n\n    // \u672a\u521d\u59cb\u5316\u7684 score \u7684\u96f6\u503c\u4e3anil\uff0c\u65e0\u6cd5\u76f4\u63a5\u8fdb\u884c\u8d4b\u503c\n    if scores == nil {\n        // \u9700\u8981\u4f7f\u7528 make \u51fd\u6570\u5148\u5bf9\u5176\u521d\u59cb\u5316\n        scores = make(map[string]int)\n    }\n\n    // \u7ecf\u8fc7\u521d\u59cb\u5316\u540e\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\n    scores[\"chinese\"] = 90\n    fmt.Println(scores)\n}\n</code></pre>"},{"location":"c01/c01_06/#_2","title":"\u5b57\u5178\u7684\u76f8\u5173\u64cd\u4f5c","text":"<p>\u6dfb\u52a0\u5143\u7d20</p> <pre><code>scores[\"math\"] = 95\n</code></pre> <p>\u66f4\u65b0\u5143\u7d20\uff0c\u82e5key\u5df2\u5b58\u5728\uff0c\u5219\u76f4\u63a5\u66f4\u65b0value</p> <pre><code>scores[\"math\"] = 100\n</code></pre> <p>\u8bfb\u53d6\u5143\u7d20\uff0c\u76f4\u63a5\u4f7f\u7528 <code>[key]</code> \u5373\u53ef \uff0c\u5982\u679c key \u4e0d\u5b58\u5728\uff0c\u4e5f\u4e0d\u62a5\u9519\uff0c\u4f1a\u8fd4\u56de\u5176value-type \u7684\u96f6\u503c\u3002</p> <pre><code>fmt.Println(scores[\"math\"])\n</code></pre> <p>\u5220\u9664\u5143\u7d20\uff0c\u4f7f\u7528 delete \u51fd\u6570\uff0c\u5982\u679c key \u4e0d\u5b58\u5728\uff0cdelete \u51fd\u6570\u4f1a\u9759\u9ed8\u5904\u7406\uff0c\u4e0d\u4f1a\u62a5\u9519\u3002</p> <pre><code>delete(scores, \"math\")\n</code></pre> <p>\u5f53\u8bbf\u95ee\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684key\u65f6\uff0c\u5e76\u4e0d\u4f1a\u76f4\u63a5\u62a5\u9519\uff0c\u800c\u662f\u4f1a\u8fd4\u56de\u8fd9\u4e2a value \u7684\u96f6\u503c\uff0c\u5982\u679c value\u7684\u7c7b\u578b\u662fint\uff0c\u5c31\u8fd4\u56de0\u3002</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    scores := make(map[string]int)\n    fmt.Println(scores[\"english\"]) // \u8f93\u51fa 0\n}\n</code></pre>"},{"location":"c01/c01_06/#key","title":"\u5224\u65ad key \u662f\u5426\u5b58\u5728","text":"<p>\u5f53key\u4e0d\u5b58\u5728\uff0c\u4f1a\u8fd4\u56devalue-type\u7684\u96f6\u503c \uff0c\u6240\u4ee5\u4f60\u4e0d\u80fd\u901a\u8fc7\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u5426\u662f\u96f6\u503c\u6765\u5224\u65ad\u5bf9\u5e94\u7684 key \u662f\u5426\u5b58\u5728\uff0c\u56e0\u4e3a key \u5bf9\u5e94\u7684 value \u503c\u53ef\u80fd\u6070\u597d\u5c31\u662f\u96f6\u503c\u3002</p> <p>\u5176\u5b9e\u5b57\u5178\u7684\u4e0b\u6807\u8bfb\u53d6\u53ef\u4ee5\u8fd4\u56de\u4e24\u4e2a\u503c\uff0c\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u8fd4\u56de\u503c\u90fd\u8868\u793a\u5bf9\u5e94\u7684 key \u662f\u5426\u5b58\u5728\uff0c\u82e5\u5b58\u5728ok\u4e3atrue\uff0c\u82e5\u4e0d\u5b58\u5728\uff0c\u5219ok\u4e3afalse</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    scores := map[string]int{\"english\": 80, \"chinese\": 85}\n    math, ok := scores[\"math\"]\n    if ok {\n        fmt.Printf(\"math \u7684\u503c\u662f: %d\", math)\n    } else {\n        fmt.Println(\"math \u4e0d\u5b58\u5728\")\n    }\n}\n</code></pre> <p>\u6211\u4eec\u5c06\u4e0a\u9762\u7684\u4ee3\u7801\u518d\u4f18\u5316\u4e00\u4e0b</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    scores := map[string]int{\"english\": 80, \"chinese\": 85}\n    if math, ok := scores[\"math\"]; ok {\n        fmt.Printf(\"math \u7684\u503c\u662f: %d\", math)\n    } else {\n        fmt.Println(\"math \u4e0d\u5b58\u5728\")\n    }\n}\n</code></pre>"},{"location":"c01/c01_06/#_3","title":"\u5982\u4f55\u5bf9\u5b57\u5178\u8fdb\u884c\u5faa\u73af","text":"<p>Go \u8bed\u8a00\u4e2d\u6ca1\u6709\u63d0\u4f9b\u7c7b\u4f3c Python \u7684  keys() \u548c values() \u8fd9\u6837\u65b9\u4fbf\u7684\u51fd\u6570\uff0c\u60f3\u8981\u83b7\u53d6\uff0c\u4f60\u5f97\u81ea\u5df1\u5faa\u73af\u3002</p> <p>\u5faa\u73af\u8fd8\u5206\u4e09\u79cd</p> <ol> <li>\u83b7\u53d6 key \u548c value</li> </ol> <pre><code>import \"fmt\"\n\nfunc main() {\n    scores := map[string]int{\"english\": 80, \"chinese\": 85}\n\n    for subject, score := range scores {\n        fmt.Printf(\"key: %s, value: %d\\n\", subject, score)\n    }\n}\n</code></pre> <ol> <li>\u53ea\u83b7\u53d6key\uff0c\u8fd9\u91cc\u6ce8\u610f\u4e0d\u7528\u5360\u7528\u7b26\u3002</li> </ol> <pre><code>import \"fmt\"\n\nfunc main() {\n    scores := map[string]int{\"english\": 80, \"chinese\": 85}\n\n    for subject := range scores {\n        fmt.Printf(\"key: %s\\n\", subject)\n    }\n}\n</code></pre> <ol> <li>\u53ea\u83b7\u53d6 value\uff0c\u7528\u4e00\u4e2a\u5360\u4f4d\u7b26\u66ff\u4ee3\u3002</li> </ol> <pre><code>import \"fmt\"\n\nfunc main() {\n    scores := map[string]int{\"english\": 80, \"chinese\": 85}\n\n    for _, score := range scores {\n        fmt.Printf(\"value: %d\\n\", score)\n    }\n}\n</code></pre>"},{"location":"c01/c01_06/#2","title":"2. \u5e03\u5c14\u7c7b\u578b","text":"<p>\u5173\u4e8e\u5e03\u5c14\u503c\uff0c\u65e0\u975e\u5c31\u4e24\u4e2a\u503c\uff1atrue \u548c false\u3002\u53ea\u662f\u8fd9\u4e24\u4e2a\u503c\uff0c\u5728\u4e0d\u540c\u7684\u8bed\u8a00\u91cc\u53ef\u80fd\u4e0d\u540c\u3002</p> <p>\u5728 Python \u4e2d\uff0c\u771f\u503c\u7528 True \u8868\u793a\uff0c\u4e0e 1 \u76f8\u7b49\uff0c\u5047\u503c\u7528 False \u8868\u793a\uff0c\u4e0e 0 \u76f8\u7b49</p> <pre><code>&gt;&gt;&gt; True == 1\nTrue\n&gt;&gt;&gt; False == 0\nTrue\n&gt;&gt;&gt; \n</code></pre> <p>\u800c\u5728 Go \u4e2d\uff0c\u771f\u503c\u7528 true \u8868\u793a\uff0c\u4e0d\u4f46\u4e0d\u4e0e 1 \u76f8\u7b49\uff0c\u5e76\u4e14\u66f4\u52a0\u4e25\u683c\uff0c\u4e0d\u540c\u7c7b\u578b\u65e0\u6cd5\u8fdb\u884c\u6bd4\u8f83\uff0c\u800c\u5047\u503c\u7528 false \u8868\u793a\uff0c\u540c\u6837\u4e0e 0 \u65e0\u6cd5\u6bd4\u8f83\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a\uff0cGoland \u76f4\u63a5\u6ce2\u6d6a\u7ebf\u63d0\u793a\u7c7b\u578b\u4e0d\u5339\u914d\uff0c\u4e0d\u80fd\u6bd4\u8f83\u3002</p> <p></p> <p>Go \u4e2d\u786e\u5b9e\u4e0d\u5982 Python \u90a3\u6837\u7075\u6d3b\uff0cbool \u4e0e int \u4e0d\u80fd\u76f4\u63a5\u8f6c\u6362\uff0c\u5982\u679c\u8981\u8f6c\u6362\uff0c\u9700\u8981\u4f60\u81ea\u5df1\u5b9e\u73b0\u51fd\u6570\u3002</p> <p>bool \u8f6c int</p> <pre><code>func bool2int(b bool) int {\n    if b {\n        return 1\n    }\n    return 0\n}\n</code></pre> <p>int \u8f6c bool</p> <pre><code>func int2bool(i int) bool { \n    return i != 0 \n}\n</code></pre> <p>\u5728 Python \u4e2d\u4f7f\u7528 not \u5bf9\u903b\u8f91\u503c\u53d6\u53cd\uff0c\u800c Go \u4e2d\u4f7f\u7528 <code>!</code> \u7b26\u53f7</p> <pre><code>import \"fmt\"\n\nvar male bool = true\nfunc main()  {\n    fmt.Println( !male == false)\n    // \u6216\u8005\n    fmt.Println( male != false)\n}\n\n// output: true\n</code></pre> <p>\u4e00\u4e2a if \u5224\u65ad\u8bed\u53e5\uff0c\u6709\u53ef\u80fd\u4e0d\u53ea\u4e00\u4e2a\u5224\u65ad\u6761\u4ef6\uff0c\u5728 Python \u4e2d\u662f\u4f7f\u7528 <code>and</code> \u548c <code>or</code> \u6765\u6267\u884c\u903b\u8f91\u8fd0\u7b97</p> <pre><code>&gt;&gt;&gt; age = 15\n&gt;&gt;&gt; gender = \"male\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; gender == \"male\" and age &gt;18\nFalse\n</code></pre> <p>\u800c\u5728 Go \u8bed\u8a00\u4e2d\uff0c\u5219\u4f7f\u7528 <code>&amp;&amp;</code> \u8868\u793a<code>\u4e14</code>\uff0c\u7528 <code>||</code> \u8868\u793a<code>\u6216</code>\uff0c\u5e76\u4e14\u6709\u77ed\u8def\u884c\u4e3a\uff08\u5373\u5de6\u8fb9\u8868\u8fbe\u5f0f\u5df2\u7ecf\u53ef\u4ee5\u786e\u8ba4\u6574\u4e2a\u8868\u8fbe\u5f0f\u7684\u503c\uff0c\u90a3\u4e48\u53f3\u8fb9\u5c06\u4e0d\u4f1a\u518d\u88ab\u6c42\u503c\u3002</p> <pre><code>import \"fmt\"\n\nvar age int = 15\nvar gender string = \"male\"\nfunc main()  {\n    //  &amp;&amp; \u4e24\u8fb9\u7684\u8868\u8fbe\u5f0f\u90fd\u4f1a\u6267\u884c\n    fmt.Println( age &gt; 18 &amp;&amp; gender == \"male\")\n    // gender == \"male\" \u5e76\u4e0d\u4f1a\u6267\u884c\n    fmt.Println( age &lt; 18 || gender == \"male\")\n}\n\n// output: false\n// output: true\n</code></pre>"},{"location":"c01/c01_07/","title":"1.7 \u6570\u636e\u7c7b\u578b\uff1a\u6307\u9488","text":""},{"location":"c01/c01_07/#0","title":"0. \u4ec0\u4e48\u662f\u6307\u9488","text":"<p>\u5f53\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u53d8\u91cf name</p> <pre><code>var name string = \"Go\u7f16\u7a0b\u65f6\u5149\"\n</code></pre> <p>\u6b64\u65f6\uff0cname \u662f\u53d8\u91cf\u540d\uff0c\u5b83\u53ea\u662f\u7f16\u7a0b\u8bed\u8a00\u4e2d\u65b9\u4fbf\u7a0b\u5e8f\u5458\u7f16\u5199\u548c\u7406\u89e3\u4ee3\u7801\u7684\u4e00\u4e2a\u6807\u7b7e\u3002</p> <p>\u5f53\u6211\u4eec\u8bbf\u95ee\u8fd9\u4e2a\u6807\u7b7e\u65f6\uff0c\u673a\u7b97\u673a\u4f1a\u8fd4\u56de\u7ed9\u6211\u4eec\u5b83\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u91cc\u5b58\u50a8\u7684\u503c\uff1a<code>Go\u7f16\u7a0b\u65f6\u5149</code>\u3002</p> <p>\u51fa\u4e8e\u67d0\u4e9b\u9700\u8981\uff0c\u6211\u4eec\u4f1a\u5c06\u8fd9\u4e2a\u5185\u5b58\u5730\u5740\u8d4b\u503c\u7ed9\u53e6\u4e00\u4e2a\u53d8\u91cf\u540d\uff0c\u901a\u5e38\u53eb\u505a ptr\uff08pointer\u7684\u7b80\u5199\uff09\uff0c\u800c\u8fd9\u4e2a\u53d8\u91cf\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u6307\u9488\u53d8\u91cf\u3002</p> <p>\u6362\u53e5\u8bdd\u8bf4\uff0c\u6307\u9488\u53d8\u91cf\uff08\u4e00\u4e2a\u6807\u7b7e\uff09\u7684\u503c\u662f\u6307\u9488\uff0c\u4e5f\u5c31\u662f\u5185\u5b58\u5730\u5740\u3002</p> <p>\u6839\u636e\u53d8\u91cf\u6307\u5411\u7684\u503c\uff0c\u662f\u5426\u662f\u5185\u5b58\u5730\u5740\uff0c\u6211\u628a\u53d8\u91cf\u5206\u4e3a\u4e24\u79cd\uff1a</p> <ul> <li>\u666e\u901a\u53d8\u91cf\uff1a\u5b58\u6570\u636e\u503c\u672c\u8eab</li> <li>\u6307\u9488\u53d8\u91cf\uff1a\u5b58\u503c\u7684\u5185\u5b58\u5730\u5740</li> </ul>"},{"location":"c01/c01_07/#1","title":"1. \u6307\u9488\u7684\u521b\u5efa","text":"<p>\u6307\u9488\u521b\u5efa\u6709\u4e09\u79cd\u65b9\u6cd5</p> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5</p> <p>\u5148\u5b9a\u4e49\u5bf9\u5e94\u7684\u53d8\u91cf\uff0c\u518d\u901a\u8fc7\u53d8\u91cf\u53d6\u5f97\u5185\u5b58\u5730\u5740\uff0c\u521b\u5efa\u6307\u9488</p> <pre><code>// \u5b9a\u4e49\u666e\u901a\u53d8\u91cf\naint := 1\n// \u5b9a\u4e49\u6307\u9488\u53d8\u91cf\nptr := &amp;aint     \n</code></pre> <p>\u7b2c\u4e8c\u79cd\u65b9\u6cd5</p> <p>\u5148\u521b\u5efa\u6307\u9488\uff0c\u5206\u914d\u597d\u5185\u5b58\u540e\uff0c\u518d\u7ed9\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\u5199\u5165\u5bf9\u5e94\u7684\u503c\u3002</p> <pre><code>// \u521b\u5efa\u6307\u9488\nastr := new(string)\n// \u7ed9\u6307\u9488\u8d4b\u503c\n*astr = \"Go\u7f16\u7a0b\u65f6\u5149\"\n</code></pre> <p>\u7b2c\u4e09\u79cd\u65b9\u6cd5</p> <p>\u5148\u58f0\u660e\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\uff0c\u518d\u4ece\u5176\u4ed6\u53d8\u91cf\u53d6\u5f97\u5185\u5b58\u5730\u5740\u8d4b\u503c\u7ed9\u5b83</p> <pre><code>aint := 1\nvar bint *int  // \u58f0\u660e\u4e00\u4e2a\u6307\u9488\nbint = &amp;aint   // \u521d\u59cb\u5316\n</code></pre> <p>\u4e0a\u9762\u7684\u4e09\u6bb5\u4ee3\u7801\u4e2d\uff0c\u6307\u9488\u7684\u64cd\u4f5c\u90fd\u79bb\u4e0d\u5f00\u8fd9\u4e24\u4e2a\u7b26\u53f7\uff1a</p> <ul> <li><code>&amp;</code> \uff1a\u4ece\u4e00\u4e2a\u666e\u901a\u53d8\u91cf\u4e2d\u53d6\u5f97\u5185\u5b58\u5730\u5740</li> <li><code>*</code>\uff1a\u5f53<code>*</code>\u5728\u8d4b\u503c\u64cd\u4f5c\u7b26\uff08=\uff09\u7684\u53f3\u8fb9\uff0c\u662f\u4ece\u4e00\u4e2a\u6307\u9488\u53d8\u91cf\u4e2d\u53d6\u5f97\u53d8\u91cf\u503c\uff0c\u5f53<code>*</code>\u5728\u8d4b\u503c\u64cd\u4f5c\u7b26\uff08=\uff09\u7684\u5de6\u8fb9\uff0c\u662f\u6307\u8be5\u6307\u9488\u6307\u5411\u7684\u53d8\u91cf</li> </ul> <p>\u901a\u8fc7\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u4f60\u53ef\u4ee5\u719f\u6089\u8fd9\u4e24\u4e2a\u7b26\u53f7\u7684\u7528\u6cd5</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    aint := 1     // \u5b9a\u4e49\u666e\u901a\u53d8\u91cf\n    ptr := &amp;aint  // \u5b9a\u4e49\u6307\u9488\u53d8\u91cf\n    fmt.Println(\"\u666e\u901a\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a\", aint)\n    fmt.Println(\"\u666e\u901a\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a\", *ptr)\n    fmt.Println(\"\u6307\u9488\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a\", &amp;aint)\n    fmt.Println(\"\u6307\u9488\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a\", ptr)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>\u666e\u901a\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a 1\n\u666e\u901a\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a 1\n\u6307\u9488\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a 0xc0000100a0\n\u6307\u9488\u53d8\u91cf\u5b58\u50a8\u7684\u662f\uff1a 0xc0000100a0\n</code></pre> <p>\u8981\u60f3\u6253\u5370\u6307\u9488\u6307\u5411\u7684\u5185\u5b58\u5730\u5740\uff0c\u65b9\u6cd5\u6709\u4e24\u79cd</p> <pre><code>// \u7b2c\u4e00\u79cd\nfmt.Printf(\"%p\", ptr)\n\n// \u7b2c\u4e8c\u79cd\nfmt.Println(ptr)\n</code></pre>"},{"location":"c01/c01_07/#2","title":"2. \u6307\u9488\u7684\u7c7b\u578b","text":"<p>\u6211\u4eec\u77e5\u9053\u5b57\u7b26\u4e32\u7684\u7c7b\u578b\u662f string\uff0c\u6574\u578b\u662fint\uff0c\u90a3\u4e48\u6307\u9488\u5982\u4f55\u8868\u793a\u5462\uff1f</p> <p>\u5199\u6bb5\u4ee3\u7801\u8bd5\u9a8c\u4e00\u4e0b\u5c31\u77e5\u9053\u4e86</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    astr := \"hello\"\n    aint := 1\n    abool := false\n    arune := 'a'\n    afloat := 1.2\n\n    fmt.Printf(\"astr \u6307\u9488\u7c7b\u578b\u662f\uff1a%T\\n\", &amp;astr)\n    fmt.Printf(\"aint \u6307\u9488\u7c7b\u578b\u662f\uff1a%T\\n\", &amp;aint)\n    fmt.Printf(\"abool \u6307\u9488\u7c7b\u578b\u662f\uff1a%T\\n\", &amp;abool)\n    fmt.Printf(\"arune \u6307\u9488\u7c7b\u578b\u662f\uff1a%T\\n\", &amp;arune)\n    fmt.Printf(\"afloat \u6307\u9488\u7c7b\u578b\u662f\uff1a%T\\n\", &amp;afloat)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff0c\u53ef\u4ee5\u53d1\u73b0\u7528 <code>*</code>+\u6240\u6307\u5411\u53d8\u91cf\u503c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u5c31\u662f\u5bf9\u5e94\u7684\u6307\u9488\u7c7b\u578b\u3002</p> <pre><code>astr \u6307\u9488\u7c7b\u578b\u662f\uff1a*string\naint \u6307\u9488\u7c7b\u578b\u662f\uff1a*int\nabool \u6307\u9488\u7c7b\u578b\u662f\uff1a*bool\narune \u6307\u9488\u7c7b\u578b\u662f\uff1a*int32\nafloat \u6307\u9488\u7c7b\u578b\u662f\uff1a*float64\n</code></pre> <p>\u6240\u4ee5\u82e5\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u53ea\u63a5\u6536\u6307\u9488\u7c7b\u578b\u7684\u53c2\u6570\u7684\u51fd\u6570\uff0c\u53ef\u4ee5\u8fd9\u4e48\u5199</p> <pre><code>func mytest(ptr *int)  {\n    fmt.Println(*ptr)\n}\n</code></pre>"},{"location":"c01/c01_07/#3","title":"3. \u6307\u9488\u7684\u96f6\u503c","text":"<p>\u5f53\u6307\u9488\u58f0\u660e\u540e\uff0c\u6ca1\u6709\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5176\u96f6\u503c\u662f nil\u3002</p> <pre><code>func main() {  \n    a := 25\n    var b *int  // \u58f0\u660e\u4e00\u4e2a\u6307\u9488\n\n    if b == nil {\n        fmt.Println(b)\n        b = &amp;a  // \u521d\u59cb\u5316\uff1a\u5c06a\u7684\u5185\u5b58\u5730\u5740\u7ed9b\n        fmt.Println(b)\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>&lt;nil&gt;\n0xc0000100a0\n</code></pre>"},{"location":"c01/c01_07/#4","title":"4. \u6307\u9488\u4e0e\u5207\u7247","text":"<p>\u5207\u7247\u4e0e\u6307\u9488\u4e00\u6837\uff0c\u90fd\u662f\u5f15\u7528\u7c7b\u578b\u3002</p> <p>\u5982\u679c\u6211\u4eec\u60f3\u901a\u8fc7\u4e00\u4e2a\u51fd\u6570\u6539\u53d8\u4e00\u4e2a\u6570\u7ec4\u7684\u503c\uff0c\u6709\u4e24\u79cd\u65b9\u6cd5</p> <ol> <li>\u5c06\u8fd9\u4e2a\u6570\u7ec4\u7684\u5207\u7247\u505a\u4e3a\u53c2\u6570\u4f20\u7ed9\u51fd\u6570</li> <li>\u5c06\u8fd9\u4e2a\u6570\u7ec4\u7684\u6307\u9488\u505a\u4e3a\u53c2\u6570\u4f20\u7ed9\u51fd\u6570</li> </ol> <p>\u5c3d\u7ba1\u4e8c\u8005\u90fd\u53ef\u4ee5\u5b9e\u73b0\u6211\u4eec\u7684\u76ee\u7684\uff0c\u4f46\u662f\u6309\u7167 Go \u8bed\u8a00\u7684\u4f7f\u7528\u4e60\u60ef\uff0c\u5efa\u8bae\u4f7f\u7528\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u56e0\u4e3a\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u5199\u51fa\u6765\u7684\u4ee3\u7801\u4f1a\u66f4\u52a0\u7b80\u6d01\uff0c\u6613\u8bfb\u3002\u5177\u4f53\u4f60\u53ef\u4ee5\u53c2\u6570\u4e0b\u9762\u4e24\u79cd\u65b9\u6cd5\u7684\u4ee3\u7801\u5b9e\u73b0</p> <p>\u4f7f\u7528\u5207\u7247</p> <pre><code>func modify(sls []int) {  \n    sls[0] = 90\n}\n\nfunc main() {  \n    a := [3]int{89, 90, 91}\n    modify(a[:])\n    fmt.Println(a)\n}\n</code></pre> <p>\u4f7f\u7528\u6307\u9488</p> <pre><code>func modify(arr *[3]int) {  \n    (*arr)[0] = 90\n}\n\nfunc main() {  \n    a := [3]int{89, 90, 91}\n    modify(&amp;a)\n    fmt.Println(a)\n}\n</code></pre>"},{"location":"c01/c01_08/","title":"1.8 \u6d41\u7a0b\u63a7\u5236\uff1aif-else","text":""},{"location":"c01/c01_08/#1","title":"1. \u6761\u4ef6\u8bed\u53e5\u6a21\u578b","text":"<p>Go\u91cc\u7684\u6d41\u7a0b\u63a7\u5236\u65b9\u6cd5\u8fd8\u662f\u633a\u4e30\u5bcc\uff0c\u6574\u7406\u4e86\u4e0b\u6709\u5982\u4e0b\u8fd9\u4e48\u591a\u79cd\uff1a</p> <ul> <li>if - else \u6761\u4ef6\u8bed\u53e5</li> <li>switch - case \u9009\u62e9\u8bed\u53e5</li> <li>for - range \u5faa\u73af\u8bed\u53e5</li> <li>goto \u65e0\u6761\u4ef6\u8df3\u8f6c\u8bed\u53e5</li> <li>defer \u5ef6\u8fdf\u6267\u884c</li> </ul> <p>\u4eca\u5929\u5148\u6765\u8bb2\u8bb2 if-else \u6761\u4ef6\u8bed\u53e5</p> <p>Go \u91cc\u7684\u6761\u4ef6\u8bed\u53e5\u6a21\u578b\u662f\u8fd9\u6837\u7684</p> <pre><code>if \u6761\u4ef6 1 {\n  \u5206\u652f 1\n} else if \u6761\u4ef6 2 {\n  \u5206\u652f 2\n} else if \u6761\u4ef6 ... {\n  \u5206\u652f ...\n} else {\n  \u5206\u652f else\n}\n</code></pre> <p>Go\u7f16\u8bd1\u5668\uff0c\u5bf9\u4e8e <code>{</code> \u548c <code>}</code> \u7684\u4f4d\u7f6e\u6709\u4e25\u683c\u7684\u8981\u6c42\uff0c\u5b83\u8981\u6c42 else if \uff08\u6216 else\uff09\u548c \u4e24\u8fb9\u7684\u82b1\u62ec\u53f7\uff0c\u5fc5\u987b\u5728\u540c\u4e00\u884c\u3002</p> <p>\u7531\u4e8e Go\u662f \u5f3a\u7c7b\u578b\uff0c\u6240\u4ee5\u8981\u6c42\u4f60\u6761\u4ef6\u8868\u8fbe\u5f0f\u5fc5\u987b\u4e25\u683c\u8fd4\u56de\u5e03\u5c14\u578b\u7684\u6570\u636e\uff08nil \u548c 0 \u548c 1 \u90fd\u4e0d\u884c\uff0c\u5177\u4f53\u53ef\u67e5\u770b\u300a\u8be6\u89e3\u6570\u636e\u7c7b\u578b\uff1a\u5b57\u5178\u4e0e\u5e03\u5c14\u7c7b\u578b\u300b\uff09\u3002</p> <p>\u5bf9\u4e8e\u8fd9\u4e2a\u6a21\u578b\uff0c\u5206\u522b\u4e3e\u51e0\u4e2a\u4f8b\u5b50\u6765\u770b\u4e00\u4e0b\u3002</p>"},{"location":"c01/c01_08/#2","title":"2. \u5355\u5206\u652f\u5224\u65ad","text":"<p>\u53ea\u6709\u4e00\u4e2a if \uff0c\u6ca1\u6709 else</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    age := 20\n    if age &gt; 18 {\n        fmt.Println(\"\u5df2\u7ecf\u6210\u5e74\u4e86\")\n    } \n}\n</code></pre> <p>\u5982\u679c\u6761\u4ef6\u91cc\u9700\u8981\u6ee1\u8db3\u591a\u4e2a\u6761\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>&amp;&amp;</code> \u548c <code>||</code></p> <ul> <li><code>&amp;&amp;</code>\uff1a\u8868\u793a\u4e14\uff0c\u5de6\u53f3\u90fd\u9700\u8981\u4e3atrue\uff0c\u6700\u7ec8\u7ed3\u679c\u624d\u80fd\u4e3a true\uff0c\u5426\u5219\u4e3a false</li> <li><code>||</code>\uff1a\u8868\u793a\u6216\uff0c\u5de6\u53f3\u53ea\u8981\u6709\u4e00\u4e2a\u4e3atrue\uff0c\u6700\u7ec8\u7ed3\u679c\u5373\u4e3atrue\uff0c\u5426\u5219 \u4e3a false</li> </ul> <pre><code>import \"fmt\"\n\nfunc main() {\n    age := 20\n    gender := \"male\"\n    if (age &gt; 18 &amp;&amp; gender == \"male\") {\n        fmt.Println(\"\u662f\u6210\u5e74\u7537\u6027\")\n    }\n}\n</code></pre>"},{"location":"c01/c01_08/#3","title":"3. \u591a\u5206\u652f\u5224\u65ad","text":"<p>if - else</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    age := 20\n    if age &gt; 18 {\n        fmt.Println(\"\u5df2\u7ecf\u6210\u5e74\u4e86\")\n    } else {\n        fmt.Println(\"\u8fd8\u672a\u6210\u5e74\")\n    }\n}\n</code></pre> <p>if - else if - else</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    age := 20\n    if age &gt; 18 {\n        fmt.Println(\"\u5df2\u7ecf\u6210\u5e74\u4e86\")\n    } else if age &gt;12 {\n        fmt.Println(\"\u5df2\u7ecf\u662f\u9752\u5c11\u5e74\u4e86\")\n    } else {\n        fmt.Println(\"\u8fd8\u4e0d\u662f\u9752\u5c11\u5e74\")\n    }\n}\n</code></pre>"},{"location":"c01/c01_08/#4","title":"4. \u9ad8\u7ea7\u5199\u6cd5","text":"<p>\u5728 if \u91cc\u53ef\u4ee5\u5141\u8bb8\u5148\u8fd0\u884c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u53d6\u5f97\u53d8\u91cf\u540e\uff0c\u518d\u5bf9\u5176\u8fdb\u884c\u5224\u65ad\uff0c\u6bd4\u5982\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u91cc\u4ee3\u7801\u4e5f\u53ef\u4ee5\u5199\u6210\u8fd9\u6837</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    if age := 20;age &gt; 18 {\n        fmt.Println(\"\u5df2\u7ecf\u6210\u5e74\u4e86\")\n    }\n}\n</code></pre>"},{"location":"c01/c01_09/","title":"1.9 \u6d41\u7a0b\u63a7\u5236\uff1aswitch-case","text":"<p>Go\u91cc\u7684\u6d41\u7a0b\u63a7\u5236\u65b9\u6cd5\u8fd8\u662f\u633a\u4e30\u5bcc\uff0c\u6574\u7406\u4e86\u4e0b\u6709\u5982\u4e0b\u8fd9\u4e48\u591a\u79cd\uff1a</p> <ul> <li>if - else \u6761\u4ef6\u8bed\u53e5</li> <li>switch - case \u9009\u62e9\u8bed\u53e5</li> <li>for - range \u5faa\u73af\u8bed\u53e5</li> <li>goto \u65e0\u6761\u4ef6\u8df3\u8f6c\u8bed\u53e5</li> <li>defer \u5ef6\u8fdf\u6267\u884c</li> </ul> <p>\u4e0a\u4e00\u7bc7\u8bb2\u4e86 if  -else \u6761\u4ef6\u8bed\u53e5\uff0c\u4eca\u5929\u5148\u6765\u8bb2\u8bb2 switch - case \u9009\u62e9\u8bed\u53e5\u3002</p>"},{"location":"c01/c01_09/#0","title":"0. \u8bed\u53e5\u6a21\u578b","text":"<p>Go \u91cc\u7684\u9009\u62e9\u8bed\u53e5\u6a21\u578b\u662f\u8fd9\u6837\u7684</p> <pre><code>switch \u8868\u8fbe\u5f0f {\n    case \u8868\u8fbe\u5f0f1:\n        \u4ee3\u7801\u5757\n    case \u8868\u8fbe\u5f0f2:\n        \u4ee3\u7801\u5757\n    case \u8868\u8fbe\u5f0f3:\n        \u4ee3\u7801\u5757\n    case \u8868\u8fbe\u5f0f4:\n        \u4ee3\u7801\u5757\n    case \u8868\u8fbe\u5f0f5:\n        \u4ee3\u7801\u5757\n    default:\n        \u4ee3\u7801\u5757\n}\n</code></pre> <p>\u62ff switch \u540e\u7684\u8868\u8fbe\u5f0f\u5206\u522b\u548c case \u540e\u7684\u8868\u8fbe\u5f0f\u8fdb\u884c\u5bf9\u6bd4\uff0c\u53ea\u8981\u6709\u4e00\u4e2a case \u6ee1\u8db3\u6761\u4ef6\uff0c\u5c31\u4f1a\u6267\u884c\u5bf9\u5e94\u7684\u4ee3\u7801\u5757\uff0c\u7136\u540e\u76f4\u63a5\u9000\u51fa switch - case \uff0c\u5982\u679c \u4e00\u4e2a\u90fd\u6ca1\u6709\u6ee1\u8db3\uff0c\u624d\u4f1a\u6267\u884c default \u7684\u4ee3\u7801\u5757\u3002</p>"},{"location":"c01/c01_09/#1","title":"1. \u6700\u7b80\u5355\u7684\u793a\u4f8b","text":"<p>switch \u540e\u63a5\u4e00\u4e2a\u4f60\u8981\u5224\u65ad\u53d8\u91cf <code>education</code> \uff08\u5b66\u5386\uff09\uff0c\u7136\u540e case \u4f1a\u62ff\u8fd9\u4e2a \u53d8\u91cf\u53bb\u548c\u5b83\u540e\u9762\u7684\u8868\u8fbe\u5f0f\uff08\u53ef\u80fd\u662f\u5e38\u91cf\u3001\u53d8\u91cf\u3001\u8868\u8fbe\u5f0f\u7b49\uff09\u8fdb\u884c\u5224\u7b49\u3002</p> <p>\u5982\u679c\u76f8\u7b49\uff0c\u5c31\u6267\u884c\u76f8\u5e94\u7684\u4ee3\u7801\u5757\u3002\u5982\u679c\u4e0d\u76f8\u7b49\uff0c\u5c31\u63a5\u7740\u4e0b\u4e00\u4e2a case\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    education := \"\u672c\u79d1\"\n\n    switch education {\n    case \"\u535a\u58eb\":\n        fmt.Println(\"\u6211\u662f\u535a\u58eb\")\n    case \"\u7814\u7a76\u751f\":\n        fmt.Println(\"\u6211\u662f\u7814\u7a76\u751f\")\n    case \"\u672c\u79d1\":\n        fmt.Println(\"\u6211\u662f\u672c\u79d1\u751f\")\n    case \"\u5927\u4e13\":\n        fmt.Println(\"\u6211\u662f\u5927\u4e13\u751f\")\n    case \"\u9ad8\u4e2d\":\n        fmt.Println(\"\u6211\u662f\u9ad8\u4e2d\u751f\")\n    default:\n        fmt.Println(\"\u5b66\u5386\u672a\u8fbe\u6807..\")\n    }\n}\n\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>\u6211\u662f\u672c\u79d1\u751f\n</code></pre>"},{"location":"c01/c01_09/#2-case","title":"2. \u4e00\u4e2a case \u591a\u4e2a\u6761\u4ef6","text":"<p>case \u540e\u53ef\u4ee5\u63a5\u591a\u4e2a\u591a\u4e2a\u6761\u4ef6\uff0c\u591a\u4e2a\u6761\u4ef6\u4e4b\u95f4\u662f <code>\u6216</code> \u7684\u5173\u7cfb\uff0c\u7528\u9017\u53f7\u76f8\u9694\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    month := 2\n\n    switch month {\n    case 3, 4, 5:\n        fmt.Println(\"\u6625\u5929\")\n    case 6, 7, 8:\n        fmt.Println(\"\u590f\u5929\")\n    case 9, 10, 11:\n        fmt.Println(\"\u79cb\u5929\")\n    case 12, 1, 2:\n        fmt.Println(\"\u51ac\u5929\")\n    default:\n        fmt.Println(\"\u8f93\u5165\u6709\u8bef...\")\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>\u51ac\u5929\n</code></pre>"},{"location":"c01/c01_09/#3-case","title":"3. case \u6761\u4ef6\u5e38\u91cf\u4e0d\u80fd\u91cd\u590d","text":"<p>\u5f53 case \u540e\u63a5\u7684\u662f\u5e38\u91cf\u65f6\uff0c\u8be5\u5e38\u91cf\u53ea\u80fd\u51fa\u73b0\u4e00\u6b21\u3002</p> <p>\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\uff0c\u5728\u7f16\u8bd1\u65f6\uff0c\u90fd\u4f1a\u62a5\u9519\uff1a duplicate case \"male\" in switch</p> <p>\u9519\u8bef\u6848\u4f8b\u4e00</p> <pre><code>gender := \"male\"\n\nswitch gender {\n    case \"male\":\n        fmt.Println(\"\u7537\u6027\")\n    // \u4e0e\u4e0a\u9762\u91cd\u590d\n    case \"male\":\n        fmt.Println(\"\u7537\u6027\")\n    case \"female\":\n        fmt.Println(\"\u5973\u6027\")\n}\n</code></pre> <p>\u9519\u8bef\u6848\u4f8b\u4e8c</p> <pre><code>gender := \"male\"\n\nswitch gender {\n    case \"male\", \"male\":\n        fmt.Println(\"\u7537\u6027\")\n    case \"female\":\n        fmt.Println(\"\u5973\u6027\")\n}\n</code></pre>"},{"location":"c01/c01_09/#4-switch","title":"4. switch \u540e\u53ef\u63a5\u51fd\u6570","text":"<p>switch \u540e\u9762\u53ef\u4ee5\u63a5\u4e00\u4e2a\u51fd\u6570\uff0c\u53ea\u8981\u4fdd\u8bc1 case \u540e\u7684\u503c\u7c7b\u578b\u4e0e\u51fd\u6570\u7684\u8fd4\u56de\u503c \u4e00\u81f4\u5373\u53ef\u3002</p> <pre><code>import \"fmt\"\n\n// \u5224\u65ad\u4e00\u4e2a\u540c\u5b66\u662f\u5426\u6709\u6302\u79d1\u8bb0\u5f55\u7684\u51fd\u6570\n// \u8fd4\u56de\u503c\u662f\u5e03\u5c14\u7c7b\u578b\nfunc getResult(args ...int) bool {\n    for _, i := range args {\n        if i &lt; 60 {\n            return false\n        }\n    }\n    return true\n}\n\nfunc main() {\n    chinese := 80\n    english := 50\n    math := 100\n\n    switch getResult(chinese, english, math) {\n    // case \u540e\u4e5f\u5fc5\u987b \u662f\u5e03\u5c14\u7c7b\u578b\n    case true:\n        fmt.Println(\"\u8be5\u540c\u5b66\u6240\u6709\u6210\u7ee9\u90fd\u5408\u683c\")\n    case false:\n        fmt.Println(\"\u8be5\u540c\u5b66\u6709\u6302\u79d1\u8bb0\u5f55\")\n    }\n}\n</code></pre>"},{"location":"c01/c01_09/#5-switch","title":"5. switch \u53ef\u4e0d\u63a5\u8868\u8fbe\u5f0f","text":"<p>switch \u540e\u53ef\u4ee5\u4e0d\u63a5\u4efb\u4f55\u53d8\u91cf\u3001\u8868\u8fbe\u5f0f\u3001\u51fd\u6570\u3002</p> <p>\u5f53\u4e0d\u63a5\u4efb\u4f55\u4e1c\u897f\u65f6\uff0cswitch - case \u5c31\u76f8\u5f53\u4e8e if - elseif - else</p> <pre><code>score := 30\n\nswitch {\n    case score &gt;= 95 &amp;&amp; score &lt;= 100:\n        fmt.Println(\"\u4f18\u79c0\")\n    case score &gt;= 80:\n        fmt.Println(\"\u826f\u597d\")\n    case score &gt;= 60:\n        fmt.Println(\"\u5408\u683c\")\n    case score &gt;= 0:\n        fmt.Println(\"\u4e0d\u5408\u683c\")\n    default:\n        fmt.Println(\"\u8f93\u5165\u6709\u8bef...\")\n}\n</code></pre>"},{"location":"c01/c01_09/#6-switch","title":"6. switch \u7684\u7a7f\u900f\u80fd\u529b","text":"<p>\u6b63\u5e38\u60c5\u51b5\u4e0b switch - case \u7684\u6267\u884c\u987a\u5e8f\u662f\uff1a\u53ea\u8981\u6709\u4e00\u4e2a case \u6ee1\u8db3\u6761\u4ef6\uff0c\u5c31\u4f1a\u76f4\u63a5\u9000\u51fa switch - case \uff0c\u5982\u679c \u4e00\u4e2a\u90fd\u6ca1\u6709\u6ee1\u8db3\uff0c\u624d\u4f1a\u6267\u884c default \u7684\u4ee3\u7801\u5757\u3002</p> <p>\u4f46\u662f\u6709\u4e00\u79cd\u60c5\u51b5\u662f\u4f8b\u5916\u3002</p> <p>\u90a3\u5c31\u662f\u5f53  case \u4f7f\u7528\u5173\u952e\u5b57 <code>fallthrough</code> \u5f00\u542f\u7a7f\u900f\u80fd\u529b\u7684\u65f6\u5019\u3002</p> <pre><code>s := \"hello\"\nswitch {\ncase s == \"hello\":\n    fmt.Println(\"hello\")\n    fallthrough\ncase s != \"world\":\n    fmt.Println(\"world\")\n}\n</code></pre> <p>\u4ee3\u7801\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>hello\nworld\n</code></pre> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cfallthrough \u53ea\u80fd\u7a7f\u900f\u4e00\u5c42\uff0c\u610f\u601d\u662f\u5b83\u8ba9\u4f60\u76f4\u63a5\u6267\u884c\u4e0b\u4e00\u4e2acase\u7684\u8bed\u53e5\uff0c\u800c\u4e14\u4e0d\u9700\u8981\u5224\u65ad\u6761\u4ef6\u3002</p> <pre><code>s := \"hello\"\nswitch {\ncase s == \"hello\":\n    fmt.Println(\"hello\")\n    fallthrough\ncase s == \"xxxx\":\n    fmt.Println(\"xxxx\")\ncase s != \"world\":\n    fmt.Println(\"world\")\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff0c\u5e76\u4e0d\u4f1a\u8f93\u51fa <code>world</code>\uff08\u5373\u4f7f\u5b83\u7b26\u5408\u6761\u4ef6\uff09</p> <pre><code>hello\nxxxx\n</code></pre>"},{"location":"c01/c01_10/","title":"1.10 \u6d41\u7a0b\u63a7\u5236\uff1afor \u5faa\u73af","text":"<p>Go\u91cc\u7684\u6d41\u7a0b\u63a7\u5236\u65b9\u6cd5\u8fd8\u662f\u633a\u4e30\u5bcc\uff0c\u6574\u7406\u4e86\u4e0b\u6709\u5982\u4e0b\u8fd9\u4e48\u591a\u79cd\uff1a</p> <ul> <li>if - else \u6761\u4ef6\u8bed\u53e5</li> <li>switch - case \u9009\u62e9\u8bed\u53e5</li> <li>for - range \u5faa\u73af\u8bed\u53e5</li> <li>goto \u65e0\u6761\u4ef6\u8df3\u8f6c\u8bed\u53e5</li> <li>defer \u5ef6\u8fdf\u6267\u884c</li> </ul> <p>\u4e0a\u4e00\u7bc7\u8bb2\u4e86switch - case \u9009\u62e9\u8bed\u53e5\uff0c\u4eca\u5929\u5148\u6765\u8bb2\u8bb2 for  \u5faa\u73af\u8bed\u53e5\u3002</p>"},{"location":"c01/c01_10/#0","title":"0. \u8bed\u53e5\u6a21\u578b","text":"<p>\u8fd9\u662f for \u5faa\u73af\u7684\u57fa\u672c\u6a21\u578b\u3002</p> <pre><code>for [condition |  ( init; condition; increment ) | Range]\n{\n   statement(s);\n}\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230 for \u540e\u9762\uff0c\u53ef\u4ee5\u63a5\u4e09\u79cd\u7c7b\u578b\u7684\u8868\u8fbe\u5f0f\u3002</p> <ol> <li>\u63a5\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f</li> <li>\u63a5\u4e09\u4e2a\u8868\u8fbe\u5f0f</li> <li>\u63a5\u4e00\u4e2a range \u8868\u8fbe\u5f0f</li> </ol> <p>\u4f46\u5176\u5b9e\u8fd8\u6709\u7b2c\u56db\u79cd</p> <ol> <li>\u4e0d\u63a5\u8868\u8fbe\u5f0f</li> </ol>"},{"location":"c01/c01_10/#1","title":"1. \u63a5\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0f","text":"<p>\u8fd9\u4e2a\u4f8b\u5b50\u4f1a\u6253\u5370 1 \u5230 5 \u7684\u6570\u503c\u3002</p> <pre><code>a := 1\nfor a &lt;= 5 {\n    fmt.Println(a)\n    a ++ \n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>1\n2\n3\n4\n5\n</code></pre>"},{"location":"c01/c01_10/#2","title":"2. \u63a5\u4e09\u4e2a\u8868\u8fbe\u5f0f","text":"<p>for \u540e\u9762\uff0c\u7d27\u63a5\u7740\u4e09\u4e2a\u8868\u8fbe\u5f0f\uff0c\u4f7f\u7528 <code>;</code> \u5206\u9694\u3002</p> <p>\u8fd9\u4e09\u4e2a\u8868\u8fbe\u5f0f\uff0c\u5404\u6709\u5404\u7684\u7528\u9014</p> <ul> <li>\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff1a\u521d\u59cb\u5316\u63a7\u5236\u53d8\u91cf\uff0c\u5728\u6574\u4e2a\u5faa\u73af\u751f\u547d\u5468\u671f\u5185\uff0c\u53ea\u8fd0\u884c\u4e00\u6b21\uff1b</li> <li>\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f\uff1a\u8bbe\u7f6e\u5faa\u73af\u63a7\u5236\u6761\u4ef6\uff0c\u5f53\u8fd4\u56detrue\uff0c\u7ee7\u7eed\u5faa\u73af\uff0c\u8fd4\u56defalse\uff0c\u7ed3\u675f\u5faa\u73af\uff1b</li> <li>\u7b2c\u4e09\u4e2a\u8868\u8fbe\u5f0f\uff1a\u6bcf\u6b21\u5faa\u5b8c\u5f00\u59cb\uff08\u9664\u7b2c\u4e00\u6b21\uff09\u65f6\uff0c\u7ed9\u63a7\u5236\u53d8\u91cf\u589e\u91cf\u6216\u51cf\u91cf\u3002</li> </ul> <p>\u8fd9\u8fb9\u7684\u4f8b\u5b50\u548c\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u662f\u7b49\u4ef7\u7684\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    for i := 1; i &lt;= 5; i++ {\n        fmt.Println(i)\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b </p> <pre><code>1\n2\n3\n4\n5\n</code></pre>"},{"location":"c01/c01_10/#2_1","title":"2. \u4e0d\u63a5\u8868\u8fbe\u5f0f\uff1a\u65e0\u9650\u5faa\u73af","text":"<p>\u5728 Go \u8bed\u8a00\u4e2d\uff0c\u6ca1\u6709 while \u5faa\u73af\uff0c\u5982\u679c\u8981\u5b9e\u73b0\u65e0\u9650\u5faa\u73af\uff0c\u4e5f\u5b8c\u5168\u53ef\u4ee5 for \u6765\u5b9e\u73b0\u3002</p> <p>\u5f53\u4f60\u4e0d\u52a0\u4efb\u4f55\u7684\u5224\u65ad\u6761\u4ef6\u65f6\uff0c \u5c31\u76f8\u5f53\u4e8e\u4f60\u6bcf\u6b21\u7684\u5224\u65ad\u90fd\u4e3a true\uff0c\u7a0b\u5e8f\u5c31\u4f1a\u4e00\u76f4\u5904\u4e8e\u8fd0\u884c\u72b6\u6001\uff0c\u4f46\u662f\u4e00\u822c\u6211\u4eec\u5e76\u4e0d\u4f1a\u8ba9\u7a0b\u5e8f\u5904\u4e8e\u6b7b\u5faa\u73af\uff0c\u5728\u6ee1\u8db3\u4e00\u5b9a\u7684\u6761\u4ef6\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528\u5173\u952e\u5b57 <code>break</code> \u9000\u51fa\u5faa\u73af\u4f53\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 <code>continue</code> \u76f4\u63a5\u8df3\u5230\u4e0b\u4e00\u5faa\u73af\u3002</p> <p>\u4e0b\u9762\u4e24\u79cd\u5199\u6cd5\u90fd\u662f\u65e0\u9650\u5faa\u73af\u7684\u5199\u6cd5\u3002</p> <pre><code>for {\n    \u4ee3\u7801\u5757\n}\n\n// \u7b49\u4ef7\u4e8e\nfor ;; {\n    \u4ee3\u7801\u5757\n}\n</code></pre> <p>\u4e3e\u4e2a\u4f8b\u5b50</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    var i int = 1\n    for {\n        if i &gt; 5 {\n            break\n        }\n        fmt.Printf(\"hello, %d\\n\", i)\n        i++\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>hello, 1\nhello, 2\nhello, 3\nhello, 4\nhello, 5\n</code></pre>"},{"location":"c01/c01_10/#3-for-range","title":"3. \u63a5 for-range \u8bed\u53e5","text":"<p>\u904d\u5386\u4e00\u4e2a\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u5f88\u5e38\u7528\u7684\u64cd\u4f5c\u3002\u5728 Go \u53ef\u4ee5\u4f7f\u7528 for-range \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u3002</p> <p>range \u540e\u53ef\u63a5\u6570\u7ec4\u3001\u5207\u7247\uff0c\u5b57\u7b26\u4e32\u7b49</p> <p>\u7531\u4e8e range \u4f1a\u8fd4\u56de\u4e24\u4e2a\u503c\uff1a\u7d22\u5f15\u548c\u6570\u636e\uff0c\u82e5\u4f60\u540e\u9762\u7684\u4ee3\u7801\u7528\u4e0d\u5230\u7d22\u5f15\uff0c\u9700\u8981\u4f7f\u7528 <code>_</code> \u8868\u793a \u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    myarr := [...]string{\"world\", \"python\", \"go\"}\n    for _, item := range myarr {\n        fmt.Printf(\"hello, %s\\n\", item)\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>hello, world\nhello, python\nhello, go\n</code></pre> <p>\u5982\u679c\u4f60\u7528\u4e00\u4e2a\u53d8\u91cf\u6765\u63a5\u6536\u7684\u8bdd\uff0c\u63a5\u6536\u5230\u7684\u662f\u7d22\u5f15</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    myarr := [...]string{\"world\", \"python\", \"go\"}\n    for i := range myarr {\n        fmt.Printf(\"hello, %v\\n\", i)\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>hello, 0\nhello, 1\nhello, 2\n</code></pre>"},{"location":"c01/c01_11/","title":"1.11 \u6d41\u7a0b\u63a7\u5236\uff1agoto \u65e0\u6761\u4ef6\u8df3\u8f6c","text":"<p>Go\u91cc\u7684\u6d41\u7a0b\u63a7\u5236\u65b9\u6cd5\u8fd8\u662f\u633a\u4e30\u5bcc\uff0c\u6574\u7406\u4e86\u4e0b\u6709\u5982\u4e0b\u8fd9\u4e48\u591a\u79cd\uff1a</p> <ul> <li>if - else \u6761\u4ef6\u8bed\u53e5</li> <li>switch - case \u9009\u62e9\u8bed\u53e5</li> <li>for - range \u5faa\u73af\u8bed\u53e5</li> <li>goto \u65e0\u6761\u4ef6\u8df3\u8f6c\u8bed\u53e5</li> <li>defer \u5ef6\u8fdf\u6267\u884c</li> </ul> <p>\u524d\u9762\u4e09\u79cd\uff0c\u6211\u5df2\u7ecf\u90fd\u8bb2\u8fc7\u4e86\uff0c\u4eca\u5929\u8981\u8bb2\u8bb2 goto \u7684\u65e0\u6761\u4ef6\u8df3\u8f6c\u3002</p> <p>\u5f88\u96be\u60f3\u8c61\u5728 Go \u5c45\u7136\u4f1a\u4fdd\u7559 goto\uff0c\u56e0\u4e3a\u5f88\u591a\u4eba\u4e0d\u5efa\u8bae\u4f7f\u7528 goto\uff0c\u6240\u4ee5\u5728\u4e00\u4e9b\u7f16\u7a0b\u8bed\u8a00\u4e2d\u751a\u81f3\u76f4\u63a5\u53d6\u6d88\u4e86 goto\u3002</p> <p>\u6211\u611f\u89c9 Go \u65e2\u7136\u4fdd\u7559\uff0c\u4e00\u5b9a\u6709\u4eba\u5bb6\u7684\u7406\u7531\uff0c\u53ea\u662f\u6211\u76ee\u524d\u8fd8\u6ca1\u611f\u53d7\u5230\u3002\u4e0d\u7ba1\u600e\u6837\uff0c\u54b1\u8fd8\u662f\u7167\u5e38\u5b66\u4e60\u5427\u3002</p>"},{"location":"c01/c01_11/#0","title":"0. \u57fa\u672c\u6a21\u578b","text":"<p><code>goto</code> \u987e\u8a00\u601d\u4e49\uff0c\u662f\u8df3\u8f6c\u7684\u610f\u601d\u3002</p> <p>goto \u540e\u63a5\u4e00\u4e2a\u6807\u7b7e\uff0c\u8fd9\u4e2a\u6807\u7b7e\u7684\u610f\u4e49\u662f\u544a\u8bc9 Go\u7a0b\u5e8f\u4e0b\u4e00\u6b65\u8981\u6267\u884c\u54ea\u91cc\u7684\u4ee3\u7801\u3002</p> <p>\u6240\u4ee5\u8fd9\u4e2a\u6807\u7b7e\u5982\u4f55\u653e\u7f6e\uff0c\u653e\u7f6e\u5728\u54ea\u91cc\uff0c\u662f goto \u91cc\u6700\u9700\u8981\u6ce8\u610f\u7684\u3002</p> <pre><code>goto \u6807\u7b7e;\n...\n...\n\u6807\u7b7e: \u8868\u8fbe\u5f0f;\n</code></pre>"},{"location":"c01/c01_11/#1","title":"1. \u6700\u7b80\u5355\u7684\u793a\u4f8b","text":"<p><code>goto</code> \u53ef\u4ee5\u6253\u7834\u539f\u6709\u4ee3\u7801\u6267\u884c\u987a\u5e8f\uff0c\u76f4\u63a5\u8df3\u8f6c\u5230\u67d0\u4e00\u884c\u6267\u884c\u4ee3\u7801\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n\n    goto flag\n    fmt.Println(\"B\")\nflag:\n    fmt.Println(\"A\")\n\n}\n</code></pre> <p>\u6267\u884c\u7ed3\u679c\uff0c\u5e76\u4e0d\u4f1a\u8f93\u51fa B \uff0c\u800c\u53ea\u4f1a\u8f93\u51fa A</p> <pre><code>A\n</code></pre>"},{"location":"c01/c01_11/#2","title":"2. \u5982\u4f55\u4f7f\u7528\uff1f","text":"<p><code>goto</code> \u8bed\u53e5\u901a\u5e38\u4e0e\u6761\u4ef6\u8bed\u53e5\u914d\u5408\u4f7f\u7528\u3002\u53ef\u7528\u6765\u5b9e\u73b0\u6761\u4ef6\u8f6c\u79fb\uff0c \u6784\u6210\u5faa\u73af\uff0c\u8df3\u51fa\u5faa\u73af\u4f53\u7b49\u529f\u80fd\u3002</p> <p>\u8fd9\u8fb9\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u7528 <code>goto</code> \u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\u4e00\u4e2a\u6253\u5370 1\u52305 \u7684\u5faa\u73af\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    i := 1\nflag:\n    if i &lt;= 5 {\n        fmt.Println(i)\n        i++\n        goto flag\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>1\n2\n3\n4\n5\n</code></pre> <p>\u518d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f7f\u7528 goto \u5b9e\u73b0 \u7c7b\u578b break \u7684\u6548\u679c\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    i := 1\n    for {\n        if i &gt; 5 {\n            goto flag\n        }\n        fmt.Println(i)\n        i++\n    }\nflag:\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>1\n2\n3\n4\n5\n</code></pre> <p>\u6700\u540e\u518d\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4f7f\u7528 goto \u5b9e\u73b0 \u7c7b\u578b continue\u7684\u6548\u679c\uff0c\u6253\u5370 1\u523010 \u7684\u6240\u6709\u5076\u6570\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    i := 1\nflag:\n    for i &lt;= 10 {\n        if i%2 == 1 {\n            i++\n            goto flag\n        }\n        fmt.Println(i)\n        i++\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>2\n4\n6\n8\n10\n</code></pre>"},{"location":"c01/c01_11/#3","title":"3. \u6ce8\u610f\u4e8b\u9879","text":"<p>goto\u8bed\u53e5\u4e0e\u6807\u7b7e\u4e4b\u95f4\u4e0d\u80fd\u6709\u53d8\u91cf\u58f0\u660e\uff0c\u5426\u5219\u7f16\u8bd1\u9519\u8bef\u3002</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    fmt.Println(\"start\")\n    goto flag\n    var say = \"hello oldboy\"\n    fmt.Println(say)\nflag:\n    fmt.Println(\"end\")\n}\n</code></pre> <p>\u7f16\u8bd1\u9519\u8bef</p> <pre><code>.\\main.go:7:7: goto flag jumps over declaration of say at .\\main.go:8:6\n</code></pre>"},{"location":"c01/c01_12/","title":"1.12 \u6d41\u7a0b\u63a7\u5236\uff1adefer \u5ef6\u8fdf\u8bed\u53e5","text":"<p>Go\u91cc\u7684\u6d41\u7a0b\u63a7\u5236\u65b9\u6cd5\u8fd8\u662f\u633a\u4e30\u5bcc\uff0c\u6574\u7406\u4e86\u4e0b\u6709\u5982\u4e0b\u8fd9\u4e48\u591a\u79cd\uff1a</p> <ul> <li>if - else \u6761\u4ef6\u8bed\u53e5</li> <li>switch - case \u9009\u62e9\u8bed\u53e5</li> <li>for - range \u5faa\u73af\u8bed\u53e5</li> <li>goto \u65e0\u6761\u4ef6\u8df3\u8f6c\u8bed\u53e5</li> <li>defer \u5ef6\u8fdf\u6267\u884c</li> </ul> <p>\u4eca\u5929\u662f\u6700\u540e\u4e00\u7bc7\u8bb2\u63a7\u5236\u6d41\u7a0b\u4e86\uff0c\u5185\u5bb9\u662f defer \u5ef6\u8fdf\u8bed\u53e5\uff0c\u8fd9\u4e2a\u5728\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u91cc\u597d\u50cf\u6ca1\u6709\u89c1\u5230\u3002\u5e94\u8be5\u662f\u5c5e\u4e8e Go \u8bed\u8a00\u91cc\u7684\u72ec\u6709\u7684\u5173\u952e\u5b57\uff0c\u4f46\u5373\u4f7f\u5982\u6b64\uff0c\u9605\u8bfb\u540e\u8fd9\u7bc7\u6587\u7ae0\u540e\uff0c\u4f60\u53ef\u4ee5\u53d1\u73b0 defer \u5728\u5176\u4ed6\u7f16\u7a0b\u8bed\u8a00\u91cc\u7684\u5f71\u5b50\u3002</p>"},{"location":"c01/c01_12/#1","title":"1. \u5ef6\u8fdf\u8c03\u7528","text":"<p>defer \u7684\u7528\u6cd5\u5f88\u7b80\u5355\uff0c\u53ea\u8981\u5728\u540e\u9762\u8ddf\u4e00\u4e2a\u51fd\u6570\u7684\u8c03\u7528\uff0c\u5c31\u80fd\u5b9e\u73b0\u5c06\u8fd9\u4e2a  <code>xxx</code> \u51fd\u6570\u7684\u8c03\u7528\u5ef6\u8fdf\u5230\u5f53\u524d\u51fd\u6570\u6267\u884c\u5b8c\u540e\u518d\u6267\u884c\u3002</p> <pre><code>defer xxx() \n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u5f88\u7b80\u5355\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u5f88\u5feb\u5e2e\u52a9\u4f60\u7406\u89e3 defer \u7684\u4f7f\u7528\u6548\u679c\u3002</p> <pre><code>import \"fmt\"\n\nfunc myfunc() {\n    fmt.Println(\"B\")\n}\n\nfunc main() {\n    defer myfunc()\n    fmt.Println(\"A\")\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>A\nB\n</code></pre> <p>\u5f53\u7136\u4e86\uff0c\u5bf9\u4e8e\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u7b80\u5199\u4e3a\u6210\u5982\u4e0b\uff0c\u8f93\u51fa\u7ed3\u679c\u662f\u4e00\u81f4\u7684</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    defer fmt.Println(\"B\")\n    fmt.Println(\"A\")\n}\n</code></pre>"},{"location":"c01/c01_12/#2","title":"2. \u5373\u65f6\u6c42\u503c\u7684\u53d8\u91cf\u5feb\u7167","text":"<p>\u4f7f\u7528 defer \u53ea\u662f\u5ef6\u65f6\u8c03\u7528\u51fd\u6570\uff0c\u6b64\u65f6\u4f20\u9012\u7ed9\u51fd\u6570\u91cc\u7684\u53d8\u91cf\uff0c\u4e0d\u5e94\u8be5\u53d7\u5230\u540e\u7eed\u7a0b\u5e8f\u7684\u5f71\u54cd\u3002</p> <p>\u6bd4\u5982\u8fd9\u8fb9\u7684\u4f8b\u5b50</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    name := \"go\"\n    defer fmt.Println(name) // \u8f93\u51fa: go\n\n    name = \"python\"\n    fmt.Println(name)      // \u8f93\u51fa: python\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff0c\u53ef\u89c1\u7ed9 name \u91cd\u65b0\u8d4b\u503c\u4e3a <code>python</code>\uff0c\u540e\u7eed\u8c03\u7528 defer \u7684\u65f6\u5019\uff0c\u4ecd\u7136\u4f7f\u7528\u672a\u91cd\u65b0\u8d4b\u503c\u7684\u53d8\u91cf\u503c\uff0c\u5c31\u597d\u5728 defer \u8fd9\u91cc\uff0c\u7ed9\u6240\u6709\u7684\u8fd9\u662f\u505a\u4e86\u4e00\u4e2a\u5feb\u7167\u4e00\u6837\u3002</p> <pre><code>python\ngo\n</code></pre> <p>\u5982\u679c defer \u540e\u9762\u8ddf\u7684\u662f\u533f\u540d\u51fd\u6570\uff0c\u60c5\u51b5\u4f1a\u6709\u6240\u4e0d\u540c\uff0c defer \u4f1a\u53d6\u5230\u6700\u540e\u7684\u53d8\u91cf\u503c</p> <pre><code>package main\n\nimport \"fmt\"\n\n\nfunc main() {\n    name := \"go\"\n    defer func(){\n    fmt.Println(name) // \u8f93\u51fa: python\n}()\n    name = \"python\"\n    fmt.Println(name)      // \u8f93\u51fa: python\n}\n</code></pre> <p>\u8fd9\u79cd\u73b0\u8c61\u5bf9\u4e8e\u65b0\u624b\u6765\u8bf4\uff0c\u786e\u5b9e\u662f\u4e2a\u96be\u70b9\uff0c\u4e0d\u8fc7\u8fd9\u662f\u9762\u8bd5\u7684\u70ed\u70b9\u8bdd\u9898\uff0c\u611f\u5174\u8da3\u7684\u670b\u53cb\uff0c\u53ef\u4ee5\u53bb\u6211\u7684\u4e2a\u4eba\u535a\u5ba2\uff0c\u67e5\u770b\u4e0b\u9762\u8fd9\u4e24\u7bc7\u6587\u7ae0\uff1a</p> <ul> <li>Go \u8bed\u8a00\u9762\u8bd5\u9898 100 \u8bb2\u4e4b 014\u7bc7\uff1a\u8bf4\u8bf4 Go \u4e2d\u95ed\u5305\u7684\u5e95\u5c42\u539f\u7406\uff1f</li> <li>Go \u8bed\u8a00\u9762\u8bd5\u9898 100 \u8bb2\u4e4b 015\u7bc7\uff1adefer \u7684\u53d8\u91cf\u5feb\u7167\u4ec0\u4e48\u60c5\u51b5\u4f1a\u5931\u6548\uff1f</li> </ul>"},{"location":"c01/c01_12/#3-defer","title":"3. \u591a\u4e2adefer \u53cd\u5e8f\u8c03\u7528","text":"<p>\u5f53\u6211\u4eec\u5728\u4e00\u4e2a\u51fd\u6570\u91cc\u4f7f\u7528\u4e86 \u591a\u4e2adefer\uff0c\u90a3\u4e48\u8fd9\u4e9bdefer \u7684\u6267\u884c\u51fd\u6570\u662f\u5982\u4f55\u7684\u5462\uff1f</p> <p>\u505a\u4e2a\u8bd5\u9a8c\u5c31\u77e5\u9053\u4e86</p> <pre><code>import \"fmt\"\n\nfunc main() {\n    name := \"go\"\n    defer fmt.Println(name) // \u8f93\u51fa: go\n\n    name = \"python\"\n    defer fmt.Println(name) // \u8f93\u51fa: python\n\n    name = \"java\"\n    fmt.Println(name)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff0c\u53ef\u89c1 \u591a\u4e2adefer \u662f\u53cd\u5e8f\u8c03\u7528\u7684\uff0c\u6709\u70b9\u7c7b\u4f3c\u6808\u4e00\u6837\uff0c\u540e\u8fdb\u5148\u51fa\u3002</p> <pre><code>java\npython\ngo\n</code></pre>"},{"location":"c01/c01_12/#3-defer-return","title":"3. defer \u4e0e return \u5b70\u5148\u5b70\u540e","text":"<p>\u81f3\u6b64\uff0cdefer \u8fd8\u7b97\u662f\u633a\u597d\u7406\u89e3\u7684\u3002\u5728\u4e00\u822c\u7684\u4f7f\u7528\u4e0a\uff0c\u662f\u6ca1\u6709\u95ee\u9898\u4e86\u3002</p> <p>\u5728\u8fd9\u91cc\u63d0\u4e00\u4e2a\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\u7684\u95ee\u9898\uff0cdefer \u548c return \u5230\u5e95\u662f\u54ea\u4e2a\u5148\u8c03\u7528\uff1f</p> <p>\u4f7f\u7528\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\uff0c\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u89c2\u5bdf\u51fa\u6765</p> <pre><code>import \"fmt\"\n\nvar name string = \"go\"\n\nfunc myfunc() string {\n    defer func() {\n        name = \"python\"\n    }()\n\n    fmt.Printf(\"myfunc \u51fd\u6570\u91cc\u7684name\uff1a%s\\n\", name)\n    return name\n}\n\nfunc main() {\n    myname := myfunc()\n    fmt.Printf(\"main \u51fd\u6570\u91cc\u7684name: %s\\n\", name)\n    fmt.Println(\"main \u51fd\u6570\u91cc\u7684myname: \", myname)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>myfunc \u51fd\u6570\u91cc\u7684name\uff1ago\nmain \u51fd\u6570\u91cc\u7684name: python\nmain \u51fd\u6570\u91cc\u7684myname:  go\n</code></pre> <p>\u6765\u4e00\u8d77\u7406\u89e3\u4e00\u4e0b\u8fd9\u6bb5\u4ee3\u7801\uff0c\u7b2c\u4e00\u884c\u5f88\u76f4\u89c2\uff0cname \u6b64\u65f6\u8fd8\u662f\u5168\u5c40\u53d8\u91cf\uff0c\u503c\u8fd8\u662fgo</p> <p>\u7b2c\u4e8c\u884c\u4e5f\u4e0d\u96be\u7406\u89e3\uff0c\u5728 defer \u91cc\u6539\u53d8\u4e86\u8fd9\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u6b64\u65f6name\u7684\u503c\u5df2\u7ecf\u53d8\u6210\u4e86 python</p> <p>\u91cd\u70b9\u5728\u7b2c\u4e09\u884c\uff0c\u4e3a\u4ec0\u4e48\u8f93\u51fa\u7684\u662f go \uff1f</p> <p>\u89e3\u91ca\u53ea\u6709\u4e00\u4e2a\uff0c\u90a3\u5c31\u662f defer \u662freturn \u540e\u624d\u8c03\u7528\u7684\u3002\u6240\u4ee5\u5728\u6267\u884c defer \u524d\uff0cmyname \u5df2\u7ecf\u88ab\u8d4b\u503c\u6210 go \u4e86\u3002</p>"},{"location":"c01/c01_12/#4-defer","title":"4. \u4e3a\u4ec0\u4e48\u8981\u6709 defer\uff1f","text":"<p>\u770b\u5b8c\u4e0a\u9762\u7684\u4f8b\u5b50\u540e\uff0c\u4e0d\u77e5\u9053\u4f60\u662f\u5426\u548c\u6211\u4e00\u6837\uff0c\u5bf9\u8fd9\u4e2adefer\u7684\u4f7f\u7528\u6548\u679c\u611f\u5230\u719f\u6089\uff1f\u8c8c\u4f3c\u5728 Python \u4e5f\u89c1\u8fc7\u7c7b\u4f3c\u7684\u7528\u6cd5\u3002</p> <p>\u867d\u7136 Python \u4e2d\u6ca1\u6709 defer \uff0c\u4f46\u662f\u5b83\u6709 with \u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u3002\u6211\u4eec\u77e5\u9053\u5728 Python \u4e2d\u53ef\u4ee5\u4f7f\u7528 defer \u5b9e\u73b0\u5bf9\u8d44\u6e90\u7684\u7ba1\u7406\u3002\u6700\u5e38\u7528\u7684\u4f8b\u5b50\u5c31\u662f\u6587\u4ef6\u7684\u6253\u5f00\u5173\u95ed\u3002</p> <p>\u4f60\u53ef\u80fd\u4f1a\u6709\u7591\u95ee\uff0c\u8fd9\u4e5f\u6ca1\u4ec0\u4e48\u610f\u4e49\u5440\uff0c\u6211\u628a\u8fd9\u4e2a\u653e\u5728 defer \u6267\u884c\u7684\u51fd\u6570\u653e\u5728 return \u90a3\u91cc\u6267\u884c\u4e0d\u5c31\u597d\u4e86\u3002</p> <p>\u56fa\u7136\u53ef\u4ee5\uff0c\u4f46\u662f\u5f53\u4e00\u4e2a\u51fd\u6570\u91cc\u6709\u591a\u4e2a return \u65f6\uff0c\u4f60\u5f97\u591a\u8c03\u7528\u597d\u591a\u6b21\u8fd9\u4e2a\u51fd\u6570\uff0c\u4ee3\u7801\u5c31\u81c3\u80bf\u8d77\u6765\u4e86\u3002</p> <p>\u82e5\u662f\u6ca1\u6709 defer\uff0c\u4f60\u53ef\u4ee5\u5199\u51fa\u8fd9\u6837\u7684\u4ee3\u7801</p> <pre><code>func f() {\n    r := getResource()  //0\uff0c\u83b7\u53d6\u8d44\u6e90\n    ......\n    if ... {\n        r.release()  //1\uff0c\u91ca\u653e\u8d44\u6e90\n        return\n    }\n    ......\n    if ... {\n        r.release()  //2\uff0c\u91ca\u653e\u8d44\u6e90\n        return\n    }\n    ......\n    if ... {\n        r.release()  //3\uff0c\u91ca\u653e\u8d44\u6e90\n        return\n    }\n    ......\n    r.release()     //4\uff0c\u91ca\u653e\u8d44\u6e90\n    return\n}\n</code></pre> <p>\u4f7f\u7528\u4e86 defer \u540e\uff0c\u4ee3\u7801\u5c31\u663e\u5f97\u7b80\u5355\u76f4\u63a5\uff0c\u4e0d\u7ba1\u4f60\u5728\u4f55\u5904 return\uff0c\u90fd\u4f1a\u6267\u884c defer \u540e\u7684\u51fd\u6570\u3002</p> <pre><code>func f() {\n    r := getResource()  //0\uff0c\u83b7\u53d6\u8d44\u6e90\n\n    defer r.release()  //1\uff0c\u91ca\u653e\u8d44\u6e90\n    ......\n    if ... {\n        ...\n        return\n    }\n    ......\n    if ... {\n        ...\n        return\n    }\n    ......\n    if ... {\n        ...\n        return\n    }\n    ......\n    return\n}\n</code></pre>"},{"location":"c01/c01_13/","title":"1.13 \u6d41\u7a0b\u63a7\u5236\uff1a\u7406\u89e3 select \u7528\u6cd5","text":"<p>\u0010\u524d\u9762\u5199\u8fc7\u4e24\u8282\u5173\u4e8e <code>switch-case</code> \u7684\u6587\u7ae0\uff0c\u5206\u522b\u662f\uff1a</p> <p>\u6d41\u7a0b\u63a7\u5236\uff1aswitch-case</p> <p>Go \u8bed\u8a00\u4e2d\u7684\u7c7b\u578b\u65ad\u8a00</p> <p>\u4eca\u5929\u8981\u5b66\u4e60\u4e00\u4e2a\u8ddf <code>switch-case</code> \u5f88\u50cf\uff0c\u4f46\u8fd8\u6709\u70b9<code>\u4e2a\u4eba\u7279\u8272</code> \u7684 <code>select-case</code>\uff0c\u8fd9\u4e00\u8282\u672c\u5e94\u8be5\u653e\u5728 \u5b66\u4e60 Go \u534f\u7a0b\uff1a\u8be6\u89e3\u4fe1\u9053/\u901a\u9053 \u91cc\u4e00\u8d77\u8bb2\u7684\uff0c\u4f46\u662f\u5f53\u65f6\u6f0f\u4e86\uff0c\u76f4\u5230\u6709\u8bfb\u8005\u7ed9\u6211\u63d0\u51fa\uff0c\u624d\u6ce8\u610f\u5230\uff0c\u4eca\u5929\u5c31\u7528\u8fd9\u7bc7\u6587\u7ae0\u8865\u5145\u4e00\u4e0b\u3002</p> <p>\u8ddf switch-case \u76f8\u6bd4\uff0cselect-case \u7528\u6cd5\u6bd4\u8f83\u5355\u4e00\uff0c\u5b83\u4ec5\u80fd\u7528\u4e8e \u4fe1\u9053/\u901a\u9053 \u7684\u76f8\u5173\u64cd\u4f5c\u3002</p> <pre><code>select {\n    case \u8868\u8fbe\u5f0f1:\n        &lt;code&gt;\n    case \u8868\u8fbe\u5f0f2:\n        &lt;code&gt;\n  default:\n    &lt;code&gt;\n}\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6765\u770b\u51e0\u4e2a\u4f8b\u5b50\u5e2e\u52a9\u7406\u89e3\u8fd9\u4e2a select \u7684\u6a21\u578b\u3002</p>"},{"location":"c01/c01_13/#1","title":"1. \u6700\u7b80\u5355\u7684\u4f8b\u5b50","text":"<p>\u5148\u521b\u5efa\u4e24\u4e2a\u4fe1\u9053\uff0c\u5e76\u5728 select \u524d\u5f80 c2 \u53d1\u9001\u6570\u636e</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    c1 := make(chan string, 1)\n    c2 := make(chan string, 1)\n\n    c2 &lt;- \"hello\"\n\n    select {\n    case msg1 := &lt;-c1:\n      fmt.Println(\"c1 received: \", msg1)\n    case msg2 := &lt;-c2:\n      fmt.Println(\"c2 received: \", msg2)\n    default:\n      fmt.Println(\"No data received.\")\n    }\n}\n</code></pre> <p>\u5728\u8fd0\u884c select \u65f6\uff0c\u4f1a\u904d\u5386\u6240\u6709\uff08\u5982\u679c\u6709\u673a\u4f1a\u7684\u8bdd\uff09\u7684 case \u8868\u8fbe\u5f0f\uff0c\u53ea\u8981\u6709\u4e00\u4e2a\u4fe1\u9053\u6709\u63a5\u6536\u5230\u6570\u636e\uff0c\u90a3\u4e48 select \u5c31\u7ed3\u675f\uff0c\u6240\u4ee5\u8f93\u51fa\u5982\u4e0b</p> <pre><code>c2 received:  hello\n</code></pre>"},{"location":"c01/c01_13/#2","title":"2. \u907f\u514d\u9020\u6210\u6b7b\u9501","text":"<p>select \u5728\u6267\u884c\u8fc7\u7a0b\u4e2d\uff0c\u5fc5\u987b\u547d\u4e2d\u5176\u4e2d\u7684\u67d0\u4e00\u5206\u652f\u3002</p> <p>\u5982\u679c\u5728\u904d\u5386\u5b8c\u6240\u6709\u7684 case \u540e\uff0c\u82e5\u6ca1\u6709\u547d\u4e2d\uff08<code>\u547d\u4e2d</code>\uff1a\u4e5f\u8bb8\u8fd9\u6837\u63cf\u8ff0\u4e0d\u592a\u51c6\u786e\uff0c\u6211\u672c\u610f\u662f\u60f3\u8bf4\u53ef\u4ee5\u6267\u884c\u4fe1\u9053\u7684\u64cd\u4f5c\u8bed\u53e5\uff09\u4efb\u4f55\u4e00\u4e2a case \u8868\u8fbe\u5f0f\uff0c\u5c31\u4f1a\u8fdb\u5165 default \u91cc\u7684\u4ee3\u7801\u5206\u652f\u3002</p> <p>\u4f46\u5982\u679c\u4f60\u6ca1\u6709\u5199 default \u5206\u652f\uff0cselect \u5c31\u4f1a\u963b\u585e\uff0c\u76f4\u5230\u6709\u67d0\u4e2a case \u53ef\u4ee5\u547d\u4e2d\uff0c\u800c\u5982\u679c\u4e00\u76f4\u6ca1\u6709\u547d\u4e2d\uff0cselect \u5c31\u4f1a\u629b\u51fa <code>deadlock</code> \u7684\u9519\u8bef\uff0c\u5c31\u50cf\u4e0b\u9762\u8fd9\u6837\u5b50\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    c1 := make(chan string, 1)\n    c2 := make(chan string, 1)\n\n    // c2 &lt;- \"hello\"\n\n    select {\n    case msg1 := &lt;-c1:\n        fmt.Println(\"c1 received: \", msg1)\n    case msg2 := &lt;-c2:\n        fmt.Println(\"c2 received: \", msg2)\n        // default:\n        //  fmt.Println(\"No data received.\")\n    }\n}\n\n</code></pre> <p>\u8fd0\u884c\u540e\u8f93\u51fa\u5982\u4e0b</p> <pre><code>fatal error: all goroutines are asleep - deadlock!\n\ngoroutine 1 [select]:\nmain.main()\n        /Users/MING/GolandProjects/golang-test/main.go:13 +0x10f\nexit status 2\n</code></pre> <p>\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u7684\u65b9\u6cd5\u6709\u4e24\u79cd</p> <p>\u4e00\u4e2a\u662f\uff0c\u517b\u6210\u597d\u4e60\u60ef\uff0c\u5728 select \u7684\u65f6\u5019\uff0c\u4e5f\u5199\u597d default \u5206\u652f\u4ee3\u7801\uff0c\u5c3d\u7ba1\u4f60 default \u4e0b\u6ca1\u6709\u5199\u4efb\u4f55\u4ee3\u7801\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    c1 := make(chan string, 1)\n    c2 := make(chan string, 1)\n\n  // c2 &lt;- \"hello\"\n\n    select {\n    case msg1 := &lt;-c1:\n        fmt.Println(\"c1 received: \", msg1)\n    case msg2 := &lt;-c2:\n        fmt.Println(\"c2 received: \", msg2)\n    default:\n\n    }\n}\n</code></pre> <p>\u53e6\u4e00\u4e2a\u662f\uff0c\u8ba9\u5176\u4e2d\u67d0\u4e00\u4e2a\u4fe1\u9053\u53ef\u4ee5\u63a5\u6536\u5230\u6570\u636e</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    c1 := make(chan string, 1)\n    c2 := make(chan string, 1)\n\n  // \u5f00\u542f\u4e00\u4e2a\u534f\u7a0b\uff0c\u53ef\u4ee5\u53d1\u9001\u6570\u636e\u5230\u4fe1\u9053\n    go func() {\n        time.Sleep(time.Second * 1)\n        c2 &lt;- \"hello\"\n    }()\n\n    select {\n    case msg1 := &lt;-c1:\n        fmt.Println(\"c1 received: \", msg1)\n    case msg2 := &lt;-c2:\n        fmt.Println(\"c2 received: \", msg2)\n    }\n}\n\n</code></pre>"},{"location":"c01/c01_13/#3-select","title":"3.  select \u968f\u673a\u6027","text":"<p>\u4e4b\u524d\u5b66\u8fc7 switch \u7684\u65f6\u5019\uff0c\u77e5\u9053\u4e86 switch \u91cc\u7684 case \u662f\u987a\u5e8f\u6267\u884c\u7684\uff0c\u4f46\u5728 select \u91cc\u5374\u4e0d\u662f\u3002</p> <p>\u901a\u8fc7\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u7684\u6267\u884c\u7ed3\u679c\u5c31\u53ef\u4ee5\u770b\u51fa</p> <p></p>"},{"location":"c01/c01_13/#4-select","title":"4. select \u7684\u8d85\u65f6","text":"<p>\u5f53 case \u91cc\u7684\u4fe1\u9053\u59cb\u7ec8\u6ca1\u6709\u63a5\u6536\u5230\u6570\u636e\u65f6\uff0c\u800c\u4e14\u4e5f\u6ca1\u6709 default \u8bed\u53e5\u65f6\uff0cselect \u6574\u4f53\u5c31\u4f1a\u963b\u585e\uff0c\u4f46\u662f\u6709\u65f6\u6211\u4eec\u5e76\u4e0d\u5e0c\u671b select \u4e00\u76f4\u963b\u585e\u4e0b\u53bb\uff0c\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u624b\u52a8\u8bbe\u7f6e\u4e00\u4e2a\u8d85\u65f6\u65f6\u95f4\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc makeTimeout(ch chan bool, t int) {\n    time.Sleep(time.Second * time.Duration(t))\n    ch &lt;- true\n}\n\nfunc main() {\n    c1 := make(chan string, 1)\n    c2 := make(chan string, 1)\n    timeout := make(chan bool, 1)\n\n    go makeTimeout(timeout, 2)\n\n    select {\n    case msg1 := &lt;-c1:\n        fmt.Println(\"c1 received: \", msg1)\n    case msg2 := &lt;-c2:\n        fmt.Println(\"c2 received: \", msg2)\n    case &lt;-timeout:\n        fmt.Println(\"Timeout, exit.\")\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>Timeout, exit.\n</code></pre>"},{"location":"c01/c01_13/#5","title":"5. \u8bfb\u53d6/\u5199\u5165\u90fd\u53ef\u4ee5","text":"<p>\u4e0a\u9762\u4f8b\u5b50\u91cc\u7684 case\uff0c\u597d\u50cf\u90fd\u53ea\u4ece\u4fe1\u9053\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0cselect \u91cc\u7684 case \u8868\u8fbe\u5f0f\u53ea\u8981\u6c42\u4f60\u662f\u5bf9\u4fe1\u9053\u7684\u64cd\u4f5c\u5373\u53ef\uff0c\u4e0d\u7ba1\u4f60\u662f\u5f80\u4fe1\u9053\u5199\u5165\u6570\u636e\uff0c\u8fd8\u662f\u4ece\u4fe1\u9053\u8bfb\u51fa\u6570\u636e\u3002</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n)\n\nfunc main() {\n    c1 := make(chan int, 2)\n\n    c1 &lt;- 2\n    select {\n    case c1 &lt;- 4:\n        fmt.Println(\"c1 received: \", &lt;-c1)\n        fmt.Println(\"c1 received: \", &lt;-c1)\n    default:\n        fmt.Println(\"channel blocking\")\n    }\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>c1 received:  2\nc1 received:  4\n</code></pre>"},{"location":"c01/c01_13/#6","title":"6. \u4fe1\u9053\u5173\u95ed\u4e5f\u80fd\u547d\u4e2d","text":"<p>\u4e0a\u9762\u7684\u4f8b\u5b50\u57fa\u672c\u90fd\u662f\u4fe1\u9053\u6709\u6570\u636e\u53ef\u8bfb\u53d6\u3001\u6216\u8005\u4fe1\u9053\u53ef\u5199\u5165\u6570\u636e\u3002\u5176\u5b9e\u5f53\u4e00\u4e2a\u4fe1\u9053\u88ab close \u540e\uff0cselect \u4e5f\u80fd\u547d\u4e2d\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50</p> <pre><code>package main\n\nimport \"fmt\"\n\nfunc main()  {\n    c1 := make(chan int, 1)\n    c2 := make(chan int, 1)\n    close(c1)\n    for {\n        select {\n        case &lt;-c1:\n            fmt.Println(\"stop\");\n                        return\n        case &lt;-c2:\n            fmt.Println(\"hhh\")\n\n        }\n    }\n}\n\n</code></pre> <p>\u6267\u884c <code>go run main.go</code> \u540e\uff0c\u4f1a\u7acb\u9a6c\u8f93\u51fa stop</p> <pre><code>$ go run main.go \nstop\n</code></pre>"},{"location":"c01/c01_13/#6_1","title":"6. \u603b\u7ed3\u4e00\u4e0b","text":"<p>select \u4e0e switch \u539f\u7406\u5f88\u76f8\u4f3c\uff0c\u4f46\u5b83\u7684\u4f7f\u7528\u573a\u666f\u66f4\u7279\u6b8a\uff0c\u5b66\u4e60\u4e86\u672c\u7bc7\u6587\u7ae0\uff0c\u4f60\u9700\u8981\u77e5\u9053\u5982\u4e0b\u51e0\u70b9\u533a\u522b\uff1a</p> <ol> <li>select \u53ea\u80fd\u7528\u4e8e channel \u7684\u64cd\u4f5c(\u5199\u5165/\u8bfb\u51fa/\u5173\u95ed)\uff0c\u800c switch \u5219\u66f4\u901a\u7528\u4e00\u4e9b\uff1b</li> <li>select \u7684 case \u662f\u968f\u673a\u7684\uff0c\u800c switch \u91cc\u7684 case \u662f\u987a\u5e8f\u6267\u884c\uff1b</li> <li>select \u8981\u6ce8\u610f\u907f\u514d\u51fa\u73b0\u6b7b\u9501\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u81ea\u884c\u5b9e\u73b0\u8d85\u65f6\u673a\u5236\uff1b</li> <li>select \u91cc\u6ca1\u6709\u7c7b\u4f3c switch \u91cc\u7684 fallthrough \u7684\u7528\u6cd5\uff1b</li> <li>select \u4e0d\u80fd\u50cf switch \u4e00\u6837\u63a5\u51fd\u6570\u6216\u5176\u4ed6\u8868\u8fbe\u5f0f\u3002</li> </ol>"},{"location":"c01/c01_14/","title":"1.14 \u5f02\u5e38\u673a\u5236\uff1apanic \u548c recover","text":"<p>\u7f16\u7a0b\u8bed\u8a00\u4e00\u822c\u90fd\u4f1a\u6709\u5f02\u5e38\u6355\u83b7\u673a\u5236\uff0c\u5728 Python \u4e2d \u662f\u4f7f\u7528<code>raise</code> \u548c <code>try-except</code> \u8bed\u53e5\u6765\u5b9e\u73b0\u7684\u5f02\u5e38\u629b\u51fa\u548c\u5f02\u5e38\u6355\u83b7\u7684\u3002</p> <p>\u5728 Golang \u4e2d\uff0c\u6709\u4e0d\u5c11\u5e38\u89c4\u9519\u8bef\uff0c\u5728\u7f16\u8bd1\u9636\u6bb5\u5c31\u80fd\u63d0\u524d\u544a\u8b66\uff0c\u6bd4\u5982\u8bed\u6cd5\u9519\u8bef\u6216\u7c7b\u578b\u9519\u8bef\u7b49\uff0c\u4f46\u662f\u6709\u4e9b\u9519\u8bef\u4ec5\u80fd\u5728\u7a0b\u5e8f\u8fd0\u884c\u540e\u624d\u80fd\u53d1\u751f\uff0c\u6bd4\u5982\u6570\u7ec4\u8bbf\u95ee\u8d8a\u754c\u3001\u7a7a\u6307\u9488\u5f15\u7528\u7b49\uff0c\u8fd9\u4e9b\u8fd0\u884c\u65f6\u9519\u8bef\u4f1a\u5f15\u8d77\u7a0b\u5e8f\u9000\u51fa\u3002</p> <p>\u5f53\u7136\u80fd\u89e6\u53d1\u7a0b\u5e8f\u5b95\u673a\u9000\u51fa\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u6211\u4eec\u81ea\u5df1\uff0c\u6bd4\u5982\u7ecf\u8fc7\u68c0\u67e5\u5224\u65ad\uff0c\u5f53\u524d\u73af\u5883\u65e0\u6cd5\u8fbe\u5230\u6211\u4eec\u7a0b\u5e8f\u8fdb\u884c\u7684\u9884\u671f\u6761\u4ef6\u65f6\uff08\u6bd4\u5982\u4e00\u4e2a\u670d\u52a1\u6307\u5b9a\u76d1\u542c\u7aef\u53e3\u88ab\u5176\u4ed6\u7a0b\u5e8f\u5360\u7528\uff09\uff0c\u53ef\u4ee5\u624b\u52a8\u89e6\u53d1 panic\uff0c\u8ba9\u7a0b\u5e8f\u9000\u51fa\u505c\u6b62\u8fd0\u884c\u3002</p>"},{"location":"c01/c01_14/#1-panic","title":"1. \u89e6\u53d1panic","text":"<p>\u624b\u52a8\u89e6\u53d1\u5b95\u673a\uff0c\u662f\u975e\u5e38\u7b80\u5355\u7684\u4e00\u4ef6\u4e8b\uff0c\u53ea\u9700\u8981\u8c03\u7528 panic \u8fd9\u4e2a\u5185\u7f6e\u51fd\u6570\u5373\u53ef\uff0c\u5c31\u50cf\u8fd9\u6837\u5b50</p> <pre><code>package main\n\nfunc main() {\n    panic(\"crash\")\n}\n</code></pre> <p>\u8fd0\u884c\u540e\uff0c\u76f4\u63a5\u62a5\u9519\u5b95\u673a</p> <pre><code>$ go run main.go\ngo run main.go\npanic: crash\n\ngoroutine 1 [running]:\nmain.main()\n        E:/Go-Code/main.go:4 +0x40\nexit status 2\n</code></pre>"},{"location":"c01/c01_14/#2-panic","title":"2. \u6355\u83b7 panic","text":"<p>\u53d1\u751f\u4e86\u5f02\u5e38\uff0c\u6709\u65f6\u5019\u5c31\u5f97\u6355\u83b7\uff0c\u5c31\u50cf Python \u4e2d\u7684<code>except</code> \u4e00\u6837\uff0c\u90a3 Golang \u4e2d\u662f\u5982\u4f55\u505a\u5230\u7684\u5462\uff1f</p> <p>\u8fd9\u5c31\u4e0d\u5f97\u4e0d\u5f15\u51fa\u53e6\u5916\u4e00\u4e2a\u5185\u5efa\u51fd\u6570 -- <code>recover</code>\uff0c\u5b83\u53ef\u4ee5\u8ba9\u7a0b\u5e8f\u5728\u53d1\u751f\u5b95\u673a\u540e\u8d77\u751f\u56de\u751f\u3002</p> <p>\u4f46\u662f recover \u7684\u4f7f\u7528\uff0c\u6709\u4e00\u4e2a\u6761\u4ef6\uff0c\u5c31\u662f\u5b83\u5fc5\u987b\u5728 defer \u51fd\u6570\u4e2d\u624d\u80fd\u751f\u6548\uff0c\u5176\u4ed6\u4f5c\u7528\u57df\u4e0b\uff0c\u5b83\u662f\u4e0d\u5de5\u4f5c\u7684\u3002</p> <p>\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50</p> <pre><code>import \"fmt\"\n\nfunc set_data(x int) {\n    defer func() {\n        // recover() \u53ef\u4ee5\u5c06\u6355\u83b7\u5230\u7684panic\u4fe1\u606f\u6253\u5370\n        if err := recover(); err != nil {\n            fmt.Println(err)\n        }\n    }()\n\n    // \u6545\u610f\u5236\u9020\u6570\u7ec4\u8d8a\u754c\uff0c\u89e6\u53d1 panic\n    var arr [10]int\n    arr[x] = 88\n}\n\nfunc main() {\n    set_data(20)\n\n    // \u5982\u679c\u80fd\u6267\u884c\u5230\u8fd9\u53e5\uff0c\u8bf4\u660epanic\u88ab\u6355\u83b7\u4e86\n    // \u540e\u7eed\u7684\u7a0b\u5e8f\u80fd\u7ee7\u7eed\u8fd0\u884c\n    fmt.Println(\"everything is ok\")\n}\n</code></pre> <p>\u8fd0\u884c\u540e\uff0c\u8f93\u51fa\u5982\u4e0b</p> <pre><code>$ go run main.go\nruntime error: index out of range [20] with length 10\neverything is ok\n</code></pre> <p>\u901a\u5e38\u6765\u8bf4\uff0c\u4e0d\u5e94\u8be5\u5bf9\u8fdb\u5165 panic \u5b95\u673a\u7684\u7a0b\u5e8f\u505a\u4efb\u4f55\u5904\u7406\uff0c\u4f46\u6709\u65f6\uff0c\u9700\u8981\u6211\u4eec\u53ef\u4ee5\u4ece\u5b95\u673a\u4e2d\u6062\u590d\uff0c\u81f3\u5c11\u6211\u4eec\u53ef\u4ee5\u5728\u7a0b\u5e8f\u5d29\u6e83\u524d\uff0c\u505a\u4e00\u4e9b\u64cd\u4f5c\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5f53 web \u670d\u52a1\u5668\u9047\u5230\u4e0d\u53ef\u9884\u6599\u7684\u4e25\u91cd\u95ee\u9898\u65f6\uff0c\u5728\u5d29\u6e83\u524d\u5e94\u8be5\u5c06\u6240\u6709\u7684\u8fde\u63a5\u5173\u95ed\uff0c\u5982\u679c\u4e0d\u505a\u4efb\u4f55\u5904\u7406\uff0c\u4f1a\u4f7f\u5f97\u5ba2\u6237\u7aef\u4e00\u76f4\u5904\u4e8e\u7b49\u5f85\u72b6\u6001\uff0c\u5982\u679c web \u670d\u52a1\u5668\u8fd8\u5728\u5f00\u53d1\u9636\u6bb5\uff0c\u670d\u52a1\u5668\u751a\u81f3\u53ef\u4ee5\u5c06\u5f02\u5e38\u4fe1\u606f\u53cd\u9988\u5230\u5ba2\u6237\u7aef\uff0c\u5e2e\u52a9\u8c03\u8bd5\u3002</p>"},{"location":"c01/c01_14/#3","title":"3. \u65e0\u6cd5\u8de8\u534f\u7a0b","text":"<p>\u4ece\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u53ef\u4ee5\u770b\u5230\uff0c\u5373\u4f7f panic \u4f1a\u5bfc\u81f4\u6574\u4e2a\u7a0b\u5e8f\u9000\u51fa\uff0c\u4f46\u5728\u9000\u51fa\u524d\uff0c\u82e5\u6709 defer \u5ef6\u8fdf\u51fd\u6570\uff0c\u8fd8\u662f\u5f97\u6267\u884c\u5b8c defer \u3002</p> <p>\u4f46\u662f\u8fd9\u4e2a defer \u5728\u591a\u4e2a\u534f\u7a0b\u4e4b\u95f4\u662f\u6ca1\u6709\u6548\u679c\uff0c\u5728\u5b50\u534f\u7a0b\u91cc\u89e6\u53d1 panic\uff0c\u53ea\u80fd\u89e6\u53d1\u81ea\u5df1\u534f\u7a0b\u5185\u7684 defer\uff0c\u800c\u4e0d\u80fd\u8c03\u7528 main \u534f\u7a0b\u91cc\u7684 defer \u51fd\u6570\u7684\u3002</p> <p>\u6765\u505a\u4e2a\u5b9e\u9a8c\u5c31\u77e5\u9053\u4e86</p> <pre><code>import (\n    \"fmt\"\n    \"time\"\n)\n\nfunc main() {\n    // \u8fd9\u4e2a defer \u5e76\u4e0d\u4f1a\u6267\u884c\n    defer fmt.Println(\"in main\")\n\n    go func() {\n        defer println(\"in goroutine\")\n        panic(\"\")\n    }()\n\n    time.Sleep(2 * time.Second)\n}\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b</p> <pre><code>in goroutine\npanic:\n\ngoroutine 6 [running]:\nmain.main.func1()\n        E:/Go-Code/main.go:12 +0x7b\ncreated by main.main\n        E:/Go-Code/main.go:10 +0xbc\nexit status 2\n</code></pre>"},{"location":"c01/c01_14/#4","title":"4. \u603b\u7ed3\u4e00\u4e0b","text":"<p>Golang \u5f02\u5e38\u7684\u629b\u51fa\u4e0e\u6355\u83b7\uff0c\u4f9d\u8d56\u4e24\u4e2a\u5185\u7f6e\u51fd\u6570\uff1a</p> <ul> <li>panic\uff1a\u629b\u51fa\u5f02\u5e38\uff0c\u4f7f\u7a0b\u5e8f\u5d29\u6e83</li> <li>recover\uff1a\u6355\u83b7\u5f02\u5e38\uff0c\u6062\u590d\u7a0b\u5e8f\u6216\u505a\u6536\u5c3e\u5de5\u4f5c</li> </ul> <p>revocer \u8c03\u7528\u540e\uff0c\u629b\u51fa\u7684 panic \u5c06\u4f1a\u5728\u6b64\u5904\u7ec8\u7ed3\uff0c\u4e0d\u4f1a\u518d\u5916\u629b\uff0c\u4f46\u662f recover\uff0c\u5e76\u4e0d\u80fd\u4efb\u610f\u4f7f\u7528\uff0c\u5b83\u6709\u5f3a\u5236\u8981\u6c42\uff0c\u5fc5\u987b\u5f97\u5728 defer \u4e0b\u624d\u80fd\u53d1\u6325\u7528\u9014\u3002</p>"},{"location":"c01/c01_15/","title":"1.15 \u8bed\u6cd5\u89c4\u5219\uff1a\u7406\u89e3\u8bed\u53e5\u5757\u4e0e\u4f5c\u7528\u57df","text":"<p>\u7531\u4e8e Go \u4f7f\u7528\u7684\u662f\u8bcd\u6cd5\u4f5c\u7528\u57df\uff0c\u800c\u8bcd\u6cd5\u4f5c\u7528\u57df\u4f9d\u8d56\u4e8e\u8bed\u53e5\u5757\u3002\u6240\u4ee5\u5728\u8bb2\u4f5c\u7528\u57df\u65f6\uff0c\u9700\u8981\u5148\u4e86\u89e3\u4e00\u4e0b Go \u4e2d\u7684\u8bed\u53e5\u5757\u662f\u600e\u4e48\u4e00\u56de\u4e8b\uff1f</p>"},{"location":"c01/c01_15/#1","title":"1. \u663e\u793a\u8bed\u53e5\u5757\u4e0e\u9690\u5f0f\u8bed\u53e5\u5757","text":"<p>\u901a\u4fd7\u5730\u8bf4\uff0c\u8bed\u53e5\u5757\u662f\u7531\u82b1\u62ec\u5f27\uff08<code>{}</code>\uff09\u6240\u5305\u542b\u7684\u4e00\u7cfb\u5217\u8bed\u53e5\u3002</p> <p>\u8bed\u53e5\u5757\u5185\u90e8\u58f0\u660e\u7684\u540d\u5b57\u662f\u65e0\u6cd5\u88ab\u5916\u90e8\u5757\u8bbf\u95ee\u7684\u3002\u8fd9\u4e2a\u5757\u51b3\u5b9a\u4e86\u5185\u90e8\u58f0\u660e\u7684\u540d\u5b57\u7684\u4f5c\u7528\u57df\u8303\u56f4\uff0c\u4e5f\u5c31\u662f\u4f5c\u7528\u57df\u3002</p> <p>\u7528\u82b1\u62ec\u5f27\u5305\u542b\u7684\u8bed\u53e5\u5757\uff0c\u5c5e\u4e8e\u663e\u793a\u8bed\u53e5\u5757\u3002</p> <p>\u5728 Go \u4e2d\u8fd8\u6709\u5f88\u591a\u7684\u9690\u5f0f\u8bed\u53e5\u5757\uff1a</p> <ul> <li>\u4e3b\u8bed\u53e5\u5757\uff1a\u5305\u62ec\u6240\u6709\u6e90\u7801\uff0c\u5bf9\u5e94\u5185\u7f6e\u4f5c\u7528\u57df</li> <li>\u5305\u8bed\u53e5\u5757\uff1a\u5305\u62ec\u8be5\u5305\u4e2d\u6240\u6709\u7684\u6e90\u7801\uff08\u4e00\u4e2a\u5305\u53ef\u80fd\u4f1a\u5305\u62ec\u4e00\u4e2a\u76ee\u5f55\u4e0b\u7684\u591a\u4e2a\u6587\u4ef6\uff09\uff0c\u5bf9\u5e94\u5305\u7ea7\u4f5c\u7528\u57df</li> <li>\u6587\u4ef6\u8bed\u53e5\u5757\uff1a\u5305\u62ec\u8be5\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u6e90\u7801\uff0c\u5bf9\u5e94\u6587\u4ef6\u7ea7\u4f5c\u7528\u57df</li> <li>for \u3001if\u3001switch\u7b49\u8bed\u53e5\u672c\u8eab\u4e5f\u5728\u5b83\u81ea\u8eab\u7684\u9690\u5f0f\u8bed\u53e5\u5757\u4e2d\uff0c\u5bf9\u5e94\u5c40\u90e8\u4f5c\u7528\u57df</li> </ul> <p>\u524d\u9762\u4e09\u70b9\u597d\u7406\u89e3\uff0c\u7b2c\u56db\u70b9\u4e3e\u51e0\u4e2a\u4f8b\u5b50</p> <p>for \u5faa\u73af\u5b8c\u540e\uff0c\u4e0d\u80fd\u518d\u4f7f\u7528\u53d8\u91cf i </p> <pre><code>for i := 0; i &lt; 5; i++ {\n    fmt.Println(i)\n}\n</code></pre> <p>if \u8bed\u53e5\u5224\u65ad\u5b8c\u540e\uff0c\u540c\u6837\u4e0d\u80fd\u518d\u4f7f\u7528\u53d8\u91cf i</p> <pre><code>if i := 0; i &gt;= 0 {\n    fmt.Println(i)\n}\n</code></pre> <p>switch \u8bed\u53e5\u5b8c\u4e86\u540e\uff0c\u4e5f\u662f\u4e0d\u662f\u518d\u4f7f\u7528\u53d8\u91cf i</p> <pre><code>switch i := 2; i * 4 {\ncase 8:\n    fmt.Println(i)\ndefault:\n    fmt.Println(\u201cdefault\u201d)\n}\n</code></pre> <p>\u4e14\u6bcf\u4e2a switch \u8bed\u53e5\u7684\u5b50\u53e5\u90fd\u662f\u4e00\u4e2a\u9690\u5f0f\u7684\u8bed\u53e5\u5757</p> <pre><code>switch i := 2; i * 4 {\ncase 8:\n    j := 0\n    fmt.Println(i, j)\ndefault:\n    // \"j\" is undefined here\n    fmt.Println(\u201cdefault\u201d)\n}\n// \"j\" is undefined here\n</code></pre>"},{"location":"c01/c01_15/#2","title":"2. \u56db\u79cd\u4f5c\u7528\u57df\u7684\u7406\u89e3","text":"<p>\u53d8\u91cf\u7684\u58f0\u660e\uff0c\u9664\u4e86\u58f0\u660e\u5176\u7c7b\u578b\uff0c\u5176\u58f0\u660e\u7684\u4f4d\u7f6e\u4e5f\u6709\u8bb2\u7a76\uff0c\u4e0d\u540c\u7684\u4f4d\u7f6e\u51b3\u5b9a\u4e86\u5176\u62e5\u6709\u4e0d\u540c\u7684\u4f5c\u7528\u8303\u56f4\uff0c\u8bf4\u767d\u4e86\u5c31\u662f\u6211\u8fd9\u4e2a\u53d8\u91cf\uff0c\u5728\u54ea\u91cc\u53ef\u7528\uff0c\u5728\u54ea\u91cc\u4e0d\u53ef\u7528\u3002</p> <p>\u6839\u636e\u58f0\u660e\u4f4d\u7f6e\u7684\u4e0d\u540c\uff0c\u4f5c\u7528\u57df\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u56db\u4e2a\u7c7b\u578b\uff1a</p> <ul> <li>\u5185\u7f6e\u4f5c\u7528\u57df\uff1a\u4e0d\u9700\u8981\u81ea\u5df1\u58f0\u660e\uff0c\u6240\u6709\u7684\u5173\u952e\u5b57\u548c\u5185\u7f6e\u7c7b\u578b\u3001\u51fd\u6570\u90fd\u62e5\u6709\u5168\u5c40\u4f5c\u7528\u57df</li> <li>\u5305\u7ea7\u4f5c\u7528\u57df\uff1a\u5fc5\u9808\u51fd\u6570\u5916\u58f0\u660e\uff0c\u5728\u8be5\u5305\u5185\u7684\u6240\u6709\u6587\u4ef6\u90fd\u53ef\u4ee5\u8bbf\u95ee</li> <li>\u6587\u4ef6\u7ea7\u4f5c\u7528\u57df\uff1a\u4e0d\u9700\u8981\u58f0\u660e\uff0c\u5bfc\u5165\u5373\u53ef\u3002\u4e00\u4e2a\u6587\u4ef6\u4e2d\u901a\u8fc7import\u5bfc\u5165\u7684\u5305\u540d\uff0c\u53ea\u5728\u8be5\u6587\u4ef6\u5185\u53ef\u7528</li> <li>\u5c40\u90e8\u4f5c\u7528\u57df\uff1a\u5728\u81ea\u5df1\u7684\u8bed\u53e5\u5757\u5185\u58f0\u660e\uff0c\u5305\u62ec\u51fd\u6570\uff0cfor\u3001if \u7b49\u8bed\u53e5\u5757\uff0c\u6216\u81ea\u5b9a\u4e49\u7684 {} \u8bed\u53e5\u5757\u5f62\u6210\u7684\u4f5c\u7528\u57df\uff0c\u53ea\u5728\u81ea\u5df1\u7684\u5c40\u90e8\u4f5c\u7528\u57df\u5185\u53ef\u7528</li> </ul> <p>\u4ee5\u4e0a\u7684\u56db\u79cd\u4f5c\u7528\u57df\uff0c\u4ece\u4e0a\u5f80\u4e0b\uff0c\u8303\u56f4\u4ece\u5927\u5230\u5c0f\uff0c\u4e3a\u4e86\u8868\u8ff0\u65b9\u4fbf\uff0c\u6211\u8fd9\u91cc\u81ea\u5df1\u5c06\u8303\u56f4\u5927\u7684\u4f5c\u7528\u57df\u79f0\u4e3a\u9ad8\u5c42\u4f5c\u7528\u57df\uff0c\u800c\u8303\u56f4\u5c0f\u7684\u79f0\u4e3a\u4f4e\u5c42\u4f5c\u7528\u57df\u3002</p> <p>\u5bf9\u4e8e\u4f5c\u7528\u57df\uff0c\u6709\u4ee5\u4e0b\u51e0\u70b9\u603b\u7ed3\uff1a</p> <ul> <li>\u4f4e\u5c42\u4f5c\u7528\u57df\uff0c\u53ef\u4ee5\u8bbf\u95ee\u9ad8\u5c42\u4f5c\u7528\u57df</li> <li>\u540c\u4e00\u5c42\u7ea7\u7684\u4f5c\u7528\u57df\uff0c\u662f\u76f8\u4e92\u9694\u79bb\u7684</li> <li>\u4f4e\u5c42\u4f5c\u7528\u57df\u91cc\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u4f1a\u8986\u76d6\u9ad8\u5c42\u4f5c\u7528\u57df\u91cc\u58f0\u660e\u7684\u53d8\u91cf</li> </ul> <p>\u5728\u8fd9\u91cc\u8981\u6ce8\u610f\u4e00\u4e0b\uff0c\u4e0d\u8981\u5c06\u4f5c\u7528\u57df\u548c\u751f\u547d\u5468\u671f\u6df7\u4e3a\u4e00\u8c08\u3002\u58f0\u660e\u8bed\u53e5\u7684\u4f5c\u7528\u57df\u5bf9\u5e94\u7684\u662f\u4e00\u4e2a\u6e90\u4ee3\u7801\u7684\u6587\u672c\u533a\u57df\uff1b\u5b83\u662f\u4e00\u4e2a\u7f16\u8bd1\u65f6\u7684\u5c5e\u6027\u3002</p> <p>\u800c\u4e00\u4e2a\u53d8\u91cf\u7684\u751f\u547d\u5468\u671f\u662f\u6307\u7a0b\u5e8f\u8fd0\u884c\u65f6\u53d8\u91cf\u5b58\u5728\u7684\u6709\u6548\u65f6\u95f4\u6bb5\uff0c\u5728\u6b64\u65f6\u95f4\u533a\u57df\u5185\u5b83\u53ef\u4ee5\u88ab\u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206\u5f15\u7528\uff1b\u662f\u4e00\u4e2a\u8fd0\u884c\u65f6\u7684\u6982\u5ff5\u3002</p>"},{"location":"c01/c01_15/#3","title":"3. \u9759\u6001\u4f5c\u7528\u57df\u4e0e\u52a8\u6001\u4f5c\u7528\u57df","text":"<p>\u6839\u636e\u5c40\u90e8\u4f5c\u7528\u57df\u5185\u53d8\u91cf\u7684\u53ef\u89c1\u6027\uff0c\u662f\u5426\u662f\u9759\u6001\u4e0d\u53d8\uff0c\u53ef\u4ee5\u5c06\u7f16\u7a0b\u8bed\u8a00\u5206\u4e3a\u5982\u4e0b\u4e24\u79cd\uff1a</p> <ul> <li>\u9759\u6001\u4f5c\u7528\u57df\uff0c\u5982 Go \u8bed\u8a00</li> <li>\u52a8\u6001\u4f5c\u7528\u57df\uff0c\u5982 Shell \u8bed\u8a00</li> </ul> <p>\u5177\u4f53\u4ec0\u4e48\u662f\u52a8\u6001\u4f5c\u7528\u57df\uff0c\u8fd9\u91cc\u7528 Shell \u7684\u4ee3\u7801\u6f14\u793a\u4e00\u4e0b\uff0c\u4f60\u5c31\u77e5\u9053\u4e86</p> <pre><code>#!/bin/bash\nfunc01() {\n    local value=1\n    func02\n}\nfunc02() {\n    echo \"func02 sees value as ${value}\"\n}\n\n# \u6267\u884c\u51fd\u6570\nfunc01\nfunc02\n</code></pre> <p>\u4ece\u4ee3\u7801\u4e2d\uff0c\u53ef\u4ee5\u770b\u5230\u5728 func01 \u51fd\u6570\u4e2d\u5b9a\u4e49\u4e86\u4e2a\u5c40\u90e8\u53d8\u91cf value\uff0c\u6309\u7406\u8bf4\uff0c\u8fd9\u4e2a value \u53d8\u91cf\u53ea\u5728\u8be5\u51fd\u6570\u5185\u53ef\u7528\uff0c\u4f46\u7531\u4e8e\u5728 shell \u4e2d\u7684\u4f5c\u7528\u57df\u662f\u52a8\u6001\u7684\uff0c\u6240\u4ee5\u5728 func01\u4e2d\u4e5f\u53ef\u4ee5\u8c03\u7528 func02 \u65f6\uff0cfunc02 \u53ef\u4ee5\u8bbf\u95ee\u5230 value \u53d8\u91cf\uff0c\u6b64\u65f6\u7684 func02 \u4f5c\u7528\u57df\u53ef\u4ee5\u5f53\u6210\u662f \u5c40\u90e8\u4f5c\u7528\u57df\u4e2d\uff08func01\uff09\u7684\u5c40\u90e8\u4f5c\u7528\u57df\u3002</p> <p>\u4f46\u82e5\u8131\u79bb\u4e86 func01\u7684\u6267\u884c\u73af\u5883\uff0c\u5c06\u5176\u653e\u5728\u5168\u5c40\u73af\u5883\u4e0b\u6216\u8005\u5176\u4ed6\u51fd\u6570\u4e2d\uff0c func02 \u662f\u8bbf\u95ee\u4e0d\u4e86 value \u53d8\u91cf\u7684\u3002</p> <p>\u6240\u4ee5\u6b64\u65f6\u7684\u8f93\u51fa\u7ed3\u679c\u662f</p> <pre><code>func02 sees value as 1\nfunc02 sees value as \n</code></pre> <p>\u4f46\u5728 Go \u4e2d\u5e76\u4e0d\u5b58\u5728\u8fd9\u79cd\u52a8\u6001\u4f5c\u7528\u57df\uff0c\u6bd4\u5982\u8fd9\u6bb5\u4ee3\u7801\uff0c\u5728func01\u51fd\u6570\u4e2d\uff0c\u8981\u60f3\u53d6\u5f97 name \u8fd9\u4e2a\u53d8\u91cf\uff0c\u53ea\u80fd\u4ecefunc01\u7684\u4f5c\u7528\u57df\u6216\u8005\u66f4\u9ad8\u5c42\u4f5c\u7528\u57df\u91cc\u67e5\u627e\uff08\u6587\u4ef6\u7ea7\u4f5c\u7528\u57df\uff0c\u5305\u7ea7\u4f5c\u7528\u57df\u548c\u5185\u7f6e\u4f5c\u7528\u57df\uff09\uff0c\u800c\u4e0d\u80fd\u4ece\u8c03\u7528\u5b83\u7684\u53e6\u4e00\u4e2a\u5c40\u90e8\u4f5c\u7528\u57df\u4e2d\uff08\u56e0\u4e3a\u4ed6\u4eec\u5728\u5c42\u7ea7\u4e0a\u5c5e\u4e8e\u540c\u4e00\u7ea7\uff09\u67e5\u627e\u3002</p> <pre><code>import \"fmt\"\n\nfunc func01() {\n    fmt.Println(\"\u5728 func01 \u51fd\u6570\u4e2d\uff0cname\uff1a\", name)\n}\n\nfunc main()  {\n    var name string = \"Python\u7f16\u7a0b\u65f6\u5149\"\n    fmt.Println(\"\u5728 main \u51fd\u6570\u4e2d\uff0cname\uff1a\", name)\n\n    func01()\n}\n</code></pre> <p>\u56e0\u6b64\u4f60\u5728\u6267\u884c\u8fd9\u6bb5\u4ee3\u7801\u65f6\uff0c\u4f1a\u62a5\u9519\uff0c\u63d0\u793a\u5728func01\u4e2d\u7684name\u8fd8\u672a\u5b9a\u4e49\u3002</p> <p>\u53c2\u8003\u6587\u7ae0\uff1ahttps://studygolang.com/articles/12632</p>"}]}